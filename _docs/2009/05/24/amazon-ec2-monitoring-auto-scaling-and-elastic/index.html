<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Amazon EC2 æ–°æ©Ÿèƒ½ Monitoring, Auto Scaling and Elastic Load Balancing ã‚’ä¸€é€šã‚Šè§¦ã£ã¦ã¿ãŸ &#8211; Hiro Fukami's Blog - æ·±æµ·å¯›ä¿¡ã®ãƒ–ãƒ­ã‚°</title>
    <link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com">
    <link rel="dns-prefetch" href="//cdn.mathjax.org">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Hiro Fukami(æ·±æµ·å¯›ä¿¡ ãµã‹ã¿ã²ã‚ã®ã¶)'s Blog : ä¸–ã®ä¸­ã‚’ã‚ˆã‚Šè‰¯ãå¤‰ãˆã‚‹ãŸã‚ã€ä¸–ã®ä¸­ã«ãªã„æ–°ã—ã„ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ¨¡ç´¢ã™ã‚‹æ—¥ã€…ã€‚CEO of Players1st inc., Business Starter, Engineer and Daddy.">
    <meta name="robots" content="all">
    <meta name="author" content="Hiro Fukami">
    <meta name="keywords" content="Tech">
    <link rel="canonical" href="https://hirofukami.com/2009/05/24/amazon-ec2-monitoring-auto-scaling-and-elastic/">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for Hiro Fukami's Blog - æ·±æµ·å¯›ä¿¡ã®ãƒ–ãƒ­ã‚°" href="/feed.xml" />

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/pixyll.css?202310161049" type="text/css">

    <!-- Fonts -->
    
    <link href='//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Lato:900,300' rel='stylesheet' type='text/css'>
    
    
      <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- MathJax -->
    

    <!-- Verifications -->
    
    

    <!-- Open Graph -->
    <!-- From: https://github.com/mmistakes/hpstr-jekyll-theme/blob/master/_includes/head.html -->
    <meta property="og:locale" content="ja_JP">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Amazon EC2 æ–°æ©Ÿèƒ½ Monitoring, Auto Scaling and Elastic Load Balancing ã‚’ä¸€é€šã‚Šè§¦ã£ã¦ã¿ãŸ">
    <meta property="og:description" content="Hiro Fukami(æ·±æµ·å¯›ä¿¡ ãµã‹ã¿ã²ã‚ã®ã¶)'s Blog : ä¸–ã®ä¸­ã‚’ã‚ˆã‚Šè‰¯ãå¤‰ãˆã‚‹ãŸã‚ã€ä¸–ã®ä¸­ã«ãªã„æ–°ã—ã„ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ¨¡ç´¢ã™ã‚‹æ—¥ã€…ã€‚CEO of Players1st inc., Business Starter, Engineer and Daddy.">
    <meta property="og:url" content="https://hirofukami.com/2009/05/24/amazon-ec2-monitoring-auto-scaling-and-elastic/">
    <meta property="og:site_name" content="Hiro Fukami's Blog - æ·±æµ·å¯›ä¿¡ã®ãƒ–ãƒ­ã‚°">
    
      <meta property="og:image" content="https://hirofukami.com/images/title.png" />
    
    
      
      <meta content="Tech" property="article:section">
      
    
    
      
      <meta content="auto scaling" property="article:tag">
      
      <meta content="AWS" property="article:tag">
      
      <meta content="CloudWatch" property="article:tag">
      
      <meta content="ELB" property="article:tag">
      
      <meta content="report" property="article:tag">
      
      <meta content="Server" property="article:tag">
      
      <meta content="tech" property="article:tag">
      
    

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    
      <meta name="twitter:site" content="@d_sea" />
      <meta name="twitter:creator" content="@d_sea" />
    

    <!-- Icons -->
    <link rel="icon" type="image/png" href="/images/favicon.png">

    
    <script type="text/javascript">
       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
       ga('create', 'UA-44359867-3', 'auto');
       ga('send', 'pageview');
    </script>
    

</head>

<body class="site">
  
	

<div class="site-wrap">
  <header class="site-header px2 px-responsive">
  <div class="mt2 wrap">
    <div class="measure">
      <div class="row">
        <div class="col-md-6 center">
          <div class="site-title">
            <a href="/" class="site-title">Hiro Fukami's Blog - æ·±æµ·å¯›ä¿¡ã®ãƒ–ãƒ­ã‚°</a>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 center">
          <div class="auther-thumb">
            <a href="/">
              <img src="/images/hirofukami.jpg" alt="Hiro Fukami" class="img-circle">
            </a>
          </div>
        </div>
        <div class="col-md-6">
          <nav class="site-nav">
            
    

    
        <a href="/about/">About</a>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    


    

    

    

    

    
        <a href="/contact/">Contact</a>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    


  <form action="https://google.com/search" method="get">
    <input type="text" name="q" results="0" placeholder="Search">
    <input type="hidden" name="as_sitesearch" value="https://hirofukami.com">
  </form>


          </nav>
          <div class="clearfix"></div>
          
          <div class="social-icons">
  <div class="social-icons-right">
    
    <a class="fa fa-twitter" href="https://twitter.com/d_sea"></a>
    
    
    <a class="fa fa-instagram" href="https://www.instagram.com/d_sea"></a>
    
    
    <a class="fa fa-facebook" href="https://facebook.com/fukami"></a>
    
    
    <a class="fa fa-linkedin" href="https://www.linkedin.com/in/hirofukami"></a>
    
    
      <a class="fa fa-github" href="https://github.com/d-sea"></a>
    
    
    
      <a class="fa fa-shopping-cart" href="https://hirofukami.official.ec/"></a>
    
    
    
    
    
    
      <a class="fa fa-envelope" href="mailto:dee.sea@gmail.com"></a>
    
    
    
    <a class="fa fa-rss" href="/feed.xml"></a>
  </div>
  <div class="right">
    
    
    
  </div>
</div>
<div class="clearfix"></div>

          
        </div>
      </div>
    </div>
  </div>
</header>


  <div class="post p2 p-responsive wrap" role="main">
    <div class="measure">
      


<div class="post-header mb2">
  <h1>Amazon EC2 æ–°æ©Ÿèƒ½ Monitoring, Auto Scaling and Elastic Load Balancing ã‚’ä¸€é€šã‚Šè§¦ã£ã¦ã¿ãŸ</h1>
  <span class="post-meta">May 25, 2009</span><br>
  
  <span class="post-meta">
  <small>
  <div class="post-categories">
  Categories: 
  
  
  <a href="/categories/#Tech">Tech</a>
  
</div>
  <div class="post-tags">
  Tags: 
  
  
  <a href="/tags/#auto%20scaling">auto scaling</a>,
  
  <a href="/tags/#AWS">AWS</a>,
  
  <a href="/tags/#CloudWatch">CloudWatch</a>,
  
  <a href="/tags/#ELB">ELB</a>,
  
  <a href="/tags/#report">report</a>,
  
  <a href="/tags/#Server">Server</a>,
  
  <a href="/tags/#tech">tech</a>
  
</div>
  </small>
  </span>
<!--   <span class="post-meta small">
  
    4 minute read
  
  </span>
 -->
</div>

<article class="post-content">
  <div class="section">
  <p>
    5/18ã« Amazon AWS ã‹ã‚‰<a href="http://aws.typepad.com/aws/2009/05/new-aws-load-balancing-automatic-scaling-and-cloud-monitoring-services.html" target="_blank">ç™ºè¡¨ã«ãªã£ãŸ</a> Amazon EC2 ã®æ–°æ©Ÿèƒ½ã¯ Auto Scaling ã‚„ Load Blanacing ãªã©ã€ä»Šã¾ã§ãƒ¦ãƒ¼ã‚¶å´ã§ãªã‚“ã¨ã‹ã—ã¦ã„ãŸ or æä¾›äº‹æ¥­è€…ãŒé£¯ã®ç¨®ã«ã—ã¦ã„ãŸéƒ¨åˆ†ã« Amazon ãŒã‚«ãƒãƒ¼ã—ã¦ã—ã¾ã£ãŸã€‚ã¨è¨€ã†ç‚¹ã§çµæ§‹æ³¨ç›®ãŒé›†ã¾ã£ã¦ã„ãŸã€‚
  </p>
  
  <p>
    ç´°ã‹ãªç‚¹ã¯ã•ã¦ãŠãã€ã²ã¨ã¾ãšè§¦ã£ã¦ã¿ãªã„ã“ã¨ã«ã¯ã©ã“ã¾ã§ã‚«ãƒãƒ¼ã•ã‚Œã¦ã„ã‚‹ã‹ã‚‚åˆ†ã‹ã‚‰ãªã„ã®ã§è§¦ã£ã¦ã¿ãŸã€‚ä»¥ä¸‹ã€è§¦ã£ã¦ã¿ãŸã¨ãã®ãƒ¡ãƒ¢ã€‚
  </p>
  
  <h4>
    äº‹å‰æƒ…å ±
  </h4>
  
  <p>
    è¨­å®šã®ä»•æ–¹ã‚„ã‚³ãƒãƒ³ãƒ‰ã¯ãã‚Œãã‚Œã®ãƒšãƒ¼ã‚¸ã‚’å‚è€ƒã«ã—ãŸã€‚
  </p>
  
  <ul>
    <li>
      <a href="http://aws.amazon.com/cloudwatch/" target="_blank">Amazon CloudWatch</a>
    </li>
    <li>
      <a href="http://aws.amazon.com/autoscaling/" target="_blank">Auto Scaling</a>
    </li>
    <li>
      <a href="http://aws.amazon.com/elasticloadbalancing/" target="_blank">Elastic Load Balancing</a>
    </li>
  </ul>
  
  <h5>
    3æ©Ÿèƒ½æ¦‚è¦
  </h5>
  
  <ul>
    <li>
      CloudWatch ã¯ instance ã¨ Elastic Load Balancer ä¸¡æ–¹ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ãŒè¡Œãˆã‚‹&lt;/p&gt; <ul>
        <li>
          ãã‚Œãã‚Œå–å¾—ã§ãã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ç•°ãªã‚‹
        </li>
      </ul>
    </li>
    
    <li>
      Auto Scaling ãŒå‹•ä½œã™ã‚‹ãŸã‚ã«ã¯ã€CloudWatch ãŒ instance ä¸Šã§æœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã“ã¨ãŒæ¡ä»¶
    </li>
    <li>
      Elastic Load Balancing ã¯èµ·å‹•ã—ã¦ã„ã‚‹ instance ã‚’æŒ‡å®šã—ã¦åˆ†æ•£å¯¾è±¡ã«åŠ ãˆã‚‹ã“ã¨ãŒã§ãã‚‹
    </li>
    <li>
      betaç‰ˆã¨ã„ã†ã“ã¨ã§ã€ã™ã¹ã¦ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ã®æ“ä½œæ–¹æ³•ã—ã‹æä¾›ã•ã‚Œã¦ã„ãªã„ <ul>
        <li>
          Elasticfox ä¸Šã ã¨ä»Šå›ã®æ©Ÿèƒ½ã«å¯¾ã™ã‚‹æƒ…å ±ã¯è¦‹ãˆãªã„
        </li>
      </ul>
    </li>
  </ul>
  
  <h4>
    å‹•ä½œç’°å¢ƒ
  </h4>
  
  <ul>
    <li>
      ã™ã§ã« EC2 ã‚³ãƒãƒ³ãƒ‰ãŒå®Ÿæ–½ã§ãã‚‹ç’°å¢ƒãŒã‚ã‚‹ã“ã¨ã‚’å‰æ
    </li>
    <li>
      mac ä¸Šã§ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã—ã¦ã„ã¾ã™
    </li>
  </ul>
  
  <h4>
    äº‹å‰æº–å‚™
  </h4>
  
  <ul>
    <li>
      Amazon AWS web ã¸ãƒ­ã‚°ã‚¤ãƒ³
    </li>
    <li>
      Amazon EC2 API Tools ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€ãƒ­ãƒ¼ã‚«ãƒ«ã«ã¦è§£å‡
    </li>
    <li>
      EC2 ã‚³ãƒãƒ³ãƒ‰ã¸ã® PATH ãŒé€šã£ã¦ã„ã‚‹æ—¢å­˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ç½®ãæ›ãˆã‚‹ <ul>
        <li>
          ä»Šå›ã®3æ©Ÿèƒ½è¿½åŠ ã«ã¨ã‚‚ãªã†ã‚‚ã‚ã‚‚ã‚ã®ã‚³ãƒãƒ³ãƒ‰ãŒå¢—ãˆã¦ã„ã‚‹
        </li>
      </ul>
    </li>
  </ul>
  
  <h4>
    CloudWatch ã‚’è§¦ã‚‹
  </h4>
  
  <h5>
    äº‹å‰æº–å‚™
  </h5>
  
  <p>
    README.TXT ã‚’ã¿ã¤ã¤
  </p>
  
  <ul>
    <li>
      Amazon CloudWatch API Tools ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ­ãƒ¼ã‚«ãƒ«ã«é…ç½®
    </li>
    <li>
      .bash_profile ã« PATH ã‚’è¿½åŠ 
    </li>
    <li>
      credential-file-path.template ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦å¥½ããªåå‰ã«å¤‰ãˆã‚‹ <ul>
        <li>
          ä»Šå›ã¯ credential-file ã¨ã—ãŸ
        </li>
      </ul>
    </li>
    
    <li>
      ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«å¿…è¦ãªæƒ…å ±ã‚’æ›¸ã <ul>
        <li>
          key.id ã¨ secret key ã®æƒ…å ±ã¯ AWS web ã® my page ã‚ˆã‚Šã‚³ãƒ”ãƒšã™ã‚‹
        </li>
      </ul>
    </li>
    
    <li>
      .bash_profile ã«è¿½è¨˜ã—ãŸä¸­èº«
    </li>
  </ul>
  
  <pre>

export AWS_CLOUDWATCH_HOME=~/Dropbox/AmazonAWS/CloudWatch

export PATH=$PATH:$AWS_CLOUDWATCH_HOME/bin

export AWS_CREDENTIAL_FILE=$AWS_CLOUDWATCH_HOME/credential-file

</pre>
  
  <ul>
    <li>
      ä»¥ä¸‹ã®è¨˜è¿°ãŒã‚ã‚‰ã‹ã˜ã‚å…¥ã£ã¦ã„ã‚‹ã“ã¨
    </li>
  </ul>
  
  <pre>

export EC2_PRIVATE_KEY=$EC2_HOME/pk-****.pem

export EC2_CERT=$EC2_HOME/cert-****.pem

</pre>
  
  <ul>
    <li>
      ç¢ºèª mon-** ã‚³ãƒãƒ³ãƒ‰ãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã“ã¨
    </li>
  </ul>
  
  <h5>
    å‹•ã‹ã—ã¦ã¿ã‚‹
  </h5>
  
  <ul>
    <li>
      EC2 ã® instance ã‚’èµ·å‹•ã™ã‚‹æ™‚ã« CloudWatch ã®ãƒ¢ãƒ‹ã‚¿ãƒ¼ã‚’æœ‰åŠ¹ã«ã™ã‚‹&lt;/p&gt; <ul>
        <li>
          ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ -m ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¦èµ·å‹•
        </li>
        <li>
          ã‚‚ã—ãã¯ instance èµ·å‹•å¾Œã« instance-ID ã‚’æŒ‡å®šã—ã¦ã€
        </li>
      </ul>
    </li>
  </ul>
  
  <pre>

$ ec2-monitor-instances i-***

</pre>
  
  <p>
    ã‚’å®Ÿè¡Œã™ã‚‹
  </p>
  
  <ul>
    <li>
      ãƒ¢ãƒ‹ã‚¿ãƒ¼ã§ãã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ 09.05.24 ç¾åœ¨
    </li>
  </ul>
  
  <dl>
    <dt>
      EC2 instance ç”¨
    </dt>
    
    <dd>
      CPUUtilization<br>DiskReadBytes<br>DiskReadOps<br>DiskWriteBytes<br>DiskWriteOps<br>NetworkIn<br>NetworkOut
    </dd>
    
    <dt>
      Elastic Load Balancer ç”¨
    </dt>
    
    <dd>
      HealthyHostCount<br>Latency<br>RequestCount<br>UnHealthyHostCount
    </dd>
  </dl>
  
  <ul>
    <li>
      stats ã‚’è¦‹ã‚‹ã‚³ãƒãƒ³ãƒ‰ mon-get-stats
    </li>
  </ul>
  
  <p>
    ã‚³ãƒãƒ³ãƒ‰ã®ãƒ˜ãƒ«ãƒ—ã‚’ã¿ã‚‹ã¨ã€
  </p>
  
  <pre>

$ mon-get-stats -help



SYNOPSIS

mon-get-stats

MeasureName  --statistics  value[,value...] [--dimensions

"key1=value1,key2=value2..." ] [--end-time  value ] [--namespace  value

]

[--period  value ] [--start-time  value ] [--unit  value ]

[General Options]

</pre>
  
  <p>
    ä½•ãŒå¿…é ˆãªã®ã‹ãŒåˆ†ã‹ã‚Šã¥ã‚‰ã„ã®ã¨ã€key ã¨ã‹ value ã«ä½•ã‚’å…¥ã‚Œã‚‹ã‹ãŒèª¬æ˜ä¸è¶³ã€‚ã€‚ã€‚
  </p>
  
  <ul>
    <li>
      instance ã® CPU utilization ã‚’ã¿ã‚‹ã‚³ãƒãƒ³ãƒ‰&lt;/p&gt; <ul>
        <li>
          â€”start-time, â€”end-time, â€”namespace ã‚’è¨­å®šã—ãªã„ã¨ã‚¨ãƒ©ãƒ¼ãŒå‡ºãšã«ä½•ã‚‚å‡ºåŠ›ã•ã‚Œãªã‹ã£ãŸ
        </li>
        <li>
          æ—¥æœ¬æ™‚é–“ã§è¦‹ãŸã„ã¨ãã¯ +09:00 ã‚’åŠ ãˆã‚Œã° OK
        </li>
      </ul>
    </li>
  </ul>
  
  <pre>

$ mon-get-stats CPUUtilization --start-time 2009-05-22T15:00:00+09:00 --end-time 2009-05-22T15:30:00+09:00 --period 60 --statistics "Average,Minimum,Maximum" --namespace "AWS/EC2" --dimensions "InstanceId=i-1183c678"

2009-05-22 06:00:00  1.0  0     0.0   4.9E-324  Percent

2009-05-22 06:01:00  1.0  0.38  0.38  0.38      Percent

2009-05-22 06:02:00  1.0  0     0.0   4.9E-324  Percent

</pre>
  
  <ul>
    <li>
      Elastic Load Balancer ã® RequestCount ã‚’ã¿ã‚‹ã‚³ãƒãƒ³ãƒ‰
    </li>
  </ul>
  
  <pre>

$ mon-get-stats RequestCount --namespace "AWS/ELB" --statistics "Average,Minimum,Maximum" --start-time 2009-05-25T12:00:00+09:00 --end-time 2009-05-25T13:30:00+09:00

2009-05-25 03:00:00  3.0  1  1.0  1.0  Count

2009-05-25 03:01:00  3.0  1  1.0  1.0  Count

2009-05-25 03:02:00  6.0  1  1.0  1.0  Count

2009-05-25 04:05:00  3.0  1  1.0  1.0  Count

</pre>
  
  <p>
    å‡ºåŠ›çµæœã®æ•°å€¤ã¯ã“ã®å ´åˆ Samples, Average, Minimum, Maximum ã®ã‚ˆã†ã 
  </p>
  
  <h4>
    auto scaling ã‚’è§¦ã‚‹
  </h4>
  
  <h5>
    æº–å‚™
  </h5>
  
  <ul>
    <li>
      CloudWatch ã®æ™‚ã¨åŒã˜
    </li>
    <li>
      auto scaling API tools ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€.bash_profile ã§ PATH æŒ‡å®š
    </li>
  </ul>
  
  <h5>
    å‹•ã‹ã—ã¦ã¿ã‚‹
  </h5>
  
  <ul>
    <li>
      ã‚³ãƒãƒ³ãƒ‰ã¯ as-** ã¨ã„ã†å½¢å¼
    </li>
  </ul>
  
  <ul>
    <li>
      1) as-create-launch-configÂ : ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆã™ã‚‹æ™‚(å¢—ã‚„ã™éš›)ã«ã©ã® AMI ã‚’å¢—ã‚„ã—ã¦è¡Œãã®ã‹ã‚ã‚‰ã‹ã˜ã‚æŒ‡å®šã™ã‚‹
    </li>
    <li>
      2) as-create-auto-scaling-groupÂ : å…ˆã«è¨­å®šã—ãŸ launch-config ã‚’ group ã«è¨­å®šã™ã‚‹ <ul>
        <li>
          â€”availablitity-zone ã¨ â€”min-size/â€”max-size ã¯å¿…é ˆ
        </li>
        <li>
          min-size ã¯æœ€å°æ§‹æˆ instance æ•°ã€max-size ã¯æœ€å¤§æ§‹æˆ instance æ•°
        </li>
        <li>
          1test ã¨ã„ã† launch-config ã‚’ä½¿ã£ã¦ã€æœ€å°0/æœ€å¤§2 instance ã® test-group1 ã‚’ä½œæˆã™ã‚‹å ´åˆ
        </li>
      </ul>
    </li>
  </ul>
  
  <pre>

$ as-create-auto-scaling-group test-group1 --launch-configuration 1test --availability-zones us-east-1a --min-size 0 --max-size 2

</pre>
  
  <ul>
    <li>
      3) as-create-or-update-triggerÂ : auto-scaling-group ã«å¯¾ã™ã‚‹é–¾å€¤è¨­å®š&lt;/p&gt; <ul>
        <li>
          test-group1 ã¨ã„ã† auto-scaling group ã‚’ä½¿ã£ã¦ã€CPUåˆ©ç”¨ç‡ã®å¹³å‡ã§ 20%ä»¥ä¸‹ ã«ãªã£ãŸéš›ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æ¸›ã‚‰ã™ã€80% ä»¥ä¸Šã«ãªã£ãŸæ™‚ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å¢—ã‚„ã™ã€120ç§’çŠ¶æ…‹ãŒç¶™ç¶šã—ãŸå ´åˆã«ç™ºå‹•ã™ã‚‹ test-trigger2 ã¨ã„ã†é–¾å€¤ã‚’è¨­å®šã™ã‚‹å ´åˆ
        </li>
      </ul>
    </li>
  </ul>
  
  <pre>

$ as-create-or-update-trigger test-trigger2 --auto-scaling-group test-group1 --namespace "AWS/EC2" --measure CPUUtilization --statistic Average --dimensions "AutoScalingGroupName=test-group01" --period 60 --lower-threshold 20 --lower-breach-increment=-1 --upper-breach-increment 1 --upper-threshold 80 --breach-duration 120

</pre>
  
  <ul>
    <li>
      å¿œç”¨ç·¨Â : auto-scaling group ã§ min-size 1 ã«ã—ãŸå ´åˆ&lt;/p&gt; <ul>
        <li>
          group å†…ã®ã™ã¹ã¦ã® instance ã‚’ terminated ã—ãŸã‚‰ã€è‡ªå‹•çš„ã« 1 instance ãŒèµ·å‹•ã™ã‚‹
        </li>
        <li>
          ã“ã®æ™‚ã¯ launch-config ã§æŒ‡å®šã—ãŸ AMI ãŒèµ·å‹•ã™ã‚‹
        </li>
        <li>
          ã™ã¹ã¦è½ã¡ã¦ã‚‚è‡ªå‹•çš„ã«ç«‹ã¡ä¸Šã’ã¦ãã‚Œã‚‹ã®ã§ã€web ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚„ front proxy çš„ãªå‹•ãã‚’ã™ã‚‹ã‚‚ã®ã«ãªã©ã«ä½¿ãˆãã†
        </li>
        <li>
          æ‰‹å‹•ã§ã™ã¹ã¦è½ã¨ã—ãŸã„ã¨ãã¯
        </li>
      </ul>
    </li>
  </ul>
  
  <pre>

$ as-terminate-instance-in-auto-scaling-group i-**** --decrement-desired-capacity

</pre>
  
  <p>
    ã‚’å®Ÿè¡Œã™ã‚‹ã¨æŒ‡å®šã—ãŸã‚µã‚¤ã‚ºã«é–¢ä¿‚ãªãè½ã¡ã¦ãã‚Œã‚‹ã®ã§ã€è‡ªå‹•èµ·å‹•ã¯ãªããªã‚‹
  </p>
  
  <h4>
    load blancer ã‚’è§¦ã‚‹
  </h4>
  
  <h5>
    æº–å‚™
  </h5>
  
  <ul>
    <li>
      CloudWatch ã®æ™‚ã¨åŒã˜
    </li>
    <li>
      Elastic Load Balancing API Tools ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€.bash_profile ã§ PATH æŒ‡å®š
    </li>
  </ul>
  
  <h5>
    å‹•ã‹ã—ã¦ã¿ã‚‹
  </h5>
  
  <ul>
    <li>
      ã‚³ãƒãƒ³ãƒ‰ã¯ elb-** ã¨ã„ã†å½¢å¼
    </li>
    <li>
      1) elb-create-lbÂ : Load Balancer ã‚’ä½œã‚‹ã‚³ãƒãƒ³ãƒ‰ <ul>
        <li>
          elb-create-lb -help ã‚’ã¿ã‚‹
        </li>
      </ul>
    </li>
  </ul>
  
  <pre>

SYNOPSIS

elb-create-lb

LoadBalancerName  --availability-zones  value[,value...]  --listener

"protocol=value, lb-port=value, instance-port=value" [ --listener

"protocol=value, lb-port=value, instance-port=value" ...]

[General Options]

</pre>
  
  <ul>
    <ul>
      <li>
        Load Balancer ãŒã‚µãƒ¼ãƒ“ã‚¹ã™ã‚‹ãƒãƒ¼ãƒˆç•ªå·ã¨è»¢é€å…ˆãƒãƒ¼ãƒˆç•ªå·ã‚’è¨­å®šã™ã‚‹
      </li>
      <li>
        test-lb4 ã¨ã„ã†åã§ã€http 80 ç•ªã§ã‚µãƒ¼ãƒ“ã‚¹ã—ã¦ã€http 80 ç•ªã¸è»¢é€ã™ã‚‹ Load Balancer ã‚’ä½œæˆ
      </li>
    </ul>
  </ul>
  
  <pre>

$ elb-create-lb test-lb4 --availability-zones us-east-1a --listener "lb-port=80,instance-port=80,protocol=http"

DNS-NAME  test-lb4-1200388198.us-east-1.elb.amazonaws.com

</pre>
  
  <ul>
    <ul>
      <li>
        å‡ºåŠ›çµæœã« Load Balancer ã«å‰²ã‚Šå½“ã¦ã‚‹ FQDN ãŒç™ºè¡Œã•ã‚Œã‚‹
      </li>
      <li>
        å®Ÿéš›ã‚ªãƒªã‚¸ãƒŠãƒ«ãƒ‰ãƒ¡ã‚¤ãƒ³ã«çµã³ã¤ã‘ã‚‹æ™‚ã«ã¯ã€ã‚ªãƒªã‚¸ãƒŠãƒ«ãƒ‰ãƒ¡ã‚¤ãƒ³ã® DNS ã‚µãƒ¼ãƒä¸Šã§ CNAME ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã ã‚ã†
      </li>
      <li>
        ç¢ºã‹ã‚ã¦ã¿ã‚‹ã¨
      </li>
    </ul>
  </ul>
  
  <pre>

$ host test-lb4-1200388198.us-east-1.elb.amazonaws.com

test-lb4-1200388198.us-east-1.elb.amazonaws.com has address 174.129.197.180

</pre>
  
  <p>
    ç¢ºã‹ã«ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒæŒ¯ã‚‰ã‚Œã¦ã„ã‚‹
  </p>
  
  <ul>
    <li>
      2) elb-register-instances-with-lbÂ : ä½œã£ãŸ ELB ã« instance ã‚’ç™»éŒ²ã™ã‚‹&lt;/p&gt; <ul>
        <li>
          ã™ã§ã«instance name ãŒåˆ†ã‹ã£ã¦ã„ã‚‹(èµ·å‹•ã—ã¦ã„ã‚‹)ã“ã¨
        </li>
        <li>
          å…ˆã»ã©è¨­å®šã—ãŸ test-lb4 ã¨ã„ã† Load Balancer ã«3ã¤ã® instance ã‚’ç™»éŒ²ã™ã‚‹
        </li>
      </ul>
    </li>
  </ul>
  
  <pre>

$ elb-register-instances-with-lb test-lb4 --instances i-fb155392,i-ff155396,i-f315539a

INSTANCE-ID  i-fb155392

INSTANCE-ID  i-ff155396

INSTANCE-ID  i-f315539a

</pre>
  
  <ul>
    <li>
      3) Load Balancer ã¯åˆ†æ•£å¯¾è±¡ã¨ãªã‚‹ instance ã® health check ã‚’è¡Œã£ã¦ã„ã‚‹ã®ã§ã€ç¢ºèª&lt;/p&gt; <ul>
        <li>
          Load Balancer å test-lb4 ã§ã® health check çµæœ
        </li>
      </ul>
    </li>
  </ul>
  
  <pre>

$ elb-describe-instance-health test-lb4

INSTANCE-ID  i-fb155392  InService

INSTANCE-ID  i-ff155396  InService

INSTANCE-ID  i-f315539a  InService

</pre>
  
  <ul>
    <ul>
      <li>
        instance ãŒç”Ÿãã¦ã„ã‚Œã° InServiceã€æ­»ã‚“ã§ã„ã‚Œã° OutService ã¨ãªã‚‹
      </li>
      <li>
        instance ã‚’ç™»éŒ²ã—ãŸæ™‚ç‚¹ã§ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½•ãŒã—ã‹ã®ãƒã‚§ãƒƒã‚¯ãŒè¡Œã‚ã‚Œã¦ã„ã‚‹ã€‚è¨­å®šå†…å®¹ã¯ä¸æ˜
      </li>
    </ul>
    
    <li>
      4) ã•ã‚‰ã«ã‚ªãƒªã‚¸ãƒŠãƒ«ã® health checkè¨­å®šã‚’å…¥ã‚Œã¦ã¿ã‚‹ <ul>
        <li>
          Load Balancer test-lb4 ã«ã¦ç™»éŒ²ã—ãŸ instance ã«å¯¾ã—ã¦ TCP 80 ç•ªãƒãƒ¼ãƒˆã®ãƒã‚§ãƒƒã‚¯ã€interval 5sec(ã“ã‚ŒãŒæœ€å°å€¤)ã€timeout 3secã€æ­»æ´»ã®é–¾å€¤ 2å›ç¶šã„ãŸæ™‚
        </li>
      </ul>
    </li>
  </ul>
  
  <pre>

$ elb-configure-healthcheck test-lb4 --target "TCP:80" --interval 5 --timeout 3 --unhealthy-threshold 2 --healthy-threshold 2

HEALTH-CHECK  TCP:80  5  3  2  2



$ elb-describe-instance-health test-lb4

INSTANCE-ID  i-fb155392  InService

INSTANCE-ID  i-ff155396  InService

INSTANCE-ID  i-f315539a  InService

</pre>
  
  <p>
    ã“ã‚Œã«ã¦ç¢ºèªçµ‚äº†ã€‚
  </p>
  
  <ul>
    <ul>
      <li>
        åˆ†æ•£æ–¹å¼ã¯ä¸æ˜ ã‚½ãƒ¼ã‚¹IPç¸›ã‚Šãªã®ã‹ã€å®Œå…¨ãªãƒ©ã‚¦ãƒ³ãƒ‰ãƒ­ãƒ“ãƒ³ãªã®ã‹
      </li>
      <li>
        è¨­å®šå†…å®¹çš„ã« L4 ã‚¹ã‚¤ãƒƒãƒã¨ã—ã¦ã®æŒ¯ã‚‹èˆã„ã¾ã§ã€L7ãƒ¬ãƒ™ãƒ«ã¯è¨­å®šã§ããªã„
      </li>
    </ul>
  </ul>
  
  <h5>
    ã¡ã‚‡ã£ã¨ã¯ã¾ã£ãŸã“ã¨
  </h5>
  
  <ul>
    <li>
      Load Balancer ã‹ã‚‰ instance ã¸ã® health check ã™ã‚‹éš›ã«ã¯ã€instance ã«é©ç”¨ã—ã¦ã„ã‚‹ sercurity group(firewall) ã«ã¦ source CIDR ã« <del datetime="2010-03-08T16:16:00+09:00">0.0.0.0/0(any)</del> ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã—ã¦ãã‚‹ source IP address ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨
    </li>
    <li>
      health check packet ãŒã¯ã˜ã‹ã‚Œã¦ã—ã¾ã„ã€OutService æ‰±ã„ã«ãªã£ã¦ã—ã¾ã†ãŸã‚
    </li>
    <li>
      Load Balancer ã¨ instance ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ãŸã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚ˆã‚Š 174.129.197.0/24 ã‚’è¨­å®šã—ã¦ã‚‚ NG ã ã£ãŸã“ã¨ã‹ã‚‰ã€ç•°ãªã‚‹ interface ã‹ã‚‰é€šä¿¡ã—ã¦ã„ã¦ã€Amaozn EC2 å†…ã§ã‚ã£ã¦ã‚‚ã™ã¹ã¦ Security Group ãŒé©ç”¨ã•ã‚Œã¦ã„ã‚‹ã¨æ€ã‚ã‚Œã‚‹
    </li>
    <li>
      =&gt; ä»»æ„ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰ãƒã‚§ãƒƒã‚¯ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã£ãŸã€‚tcpdump ãªã©ã—ã¦ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç‰¹å®šã—ã¦ security group ã«è¿½åŠ ã™ã‚Œã°åºƒãè¨­å®šã™ã‚‹å¿…è¦ã¯ãªã„(<a href="http://d.hatena.ne.jp/d_sea/20100305/p1" target="_blank"> Amazon EC2 Elastic Load Balancing ã‚’ã‚‚ã†å°‘ã—è©³ã—ãè¦‹ã¦ã¿ãŸ â€“ ã¤ã‚Œã¥ã‚Œãªã‚‹ãƒ»ãƒ»ãƒ»</a><a href="http://b.hatena.ne.jp/entry/http://d.hatena.ne.jp/d_sea/20100305/p1" class="http-bookmark" target="_blank"><img src="http://b.hatena.ne.jp/entry/image/http://d.hatena.ne.jp/d_sea/20100305/p1" alt="" class="http-bookmark"></a> ã‚ˆã‚Š)
    </li>
  </ul>
  
  <h5>
    æ°—ã«ãªã£ãŸã“ã¨
  </h5>
  
  <ul>
    <li>
      ç›´æ¥ instance ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸ FQDN ã«ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã‚‚ã¿ã‚Œã‚‹
    </li>
    <li>
      Load Balancer ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸ FQDN ã«ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã‚‚ã¿ã‚Œã‚‹
    </li>
    <li>
      instance ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚²ãƒ¼ãƒˆã‚¦ã‚¨ã‚¤ãŒå¤‰ã‚ã£ã¦ã„ãªã„ã“ã¨ã‹ã‚‰ã€Load Balancer ã®å‹•ä½œã¯ route æ–¹å¼ã§ãªãã¦ã€ãŠãã‚‰ã NAT æ–¹å¼ãªã®ã ã‚ã†
    </li>
  </ul>
  
  <h4>
    å…¨ä½“é€šã—ã¦åˆ†ã‹ã£ãŸã“ã¨
  </h4>
  
  <p>
    (<a href="http://d.hatena.ne.jp/d_sea/20100306/p1" target="_blank"> Amazon EC2 Auto Scaling ã‚’ã‚‚ã†å°‘ã—è©³ã—ãè¦‹ã¦ã¿ãŸ â€“ ã¤ã‚Œã¥ã‚Œãªã‚‹ãƒ»ãƒ»ãƒ»</a><a href="http://b.hatena.ne.jp/entry/http://d.hatena.ne.jp/d_sea/20100306/p1" class="http-bookmark" target="_blank"><img src="http://b.hatena.ne.jp/entry/image/http://d.hatena.ne.jp/d_sea/20100306/p1" alt="" class="http-bookmark"></a>ã‚ˆã‚Šã€æ­£ã—ããªã„éƒ¨åˆ†ã‚’ä¿®æ­£)
  </p>
  
  <h5>
    auto scaling ã¨ Load Balancer ã®é€£æºã¯ <del datetime="2010-03-08T22:22:38+09:00">ä»Šã®ã¨ã“ã‚ã§ãã¦ãªã„ã‚ˆã†ã </del> å¯èƒ½
  </h5>
  
  <ul>
    <li>
      è‡ªå‹•çš„ã« auto scaling ã‹ã‚‰ Load Balancer ã¸ instance-ID æƒ…å ±ã‚’æ¸¡ã™ã‚³ãƒãƒ³ãƒ‰ãªã‚Šã¯<del datetime="2010-03-08T22:22:38+09:00">è¦‹ã¤ã‘ã‚‰ã‚Œãªã‹ã£ãŸ</del> â€”load-balancers ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ç”¨ã„ã‚‹
    </li>
    <li>
      <del datetime="2010-03-08T22:22:38+09:00">Load Balancer ã®åˆ†æ•£å¯¾è±¡ã‚’è¨­å®šã™ã‚‹ã¨ãã¯ã‚ã‚‰ã‹ã˜ã‚èµ·å‹•ã—ã¦ã‚ã‚‹ instance-ID ã‚’æŒ‡å®šã™ã‚‹ã®ã§ã€auto scaling ãŒç«‹ã¡ä¸Šã’ãŸ instance-ID ã¯æ‰‹å‹•ã§è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹</del>
    </li>
    <li>
      <del datetime="2010-03-08T22:22:38+09:00">Load Balancer é…ä¸‹ã¸ã®è¿½åŠ ã¯æ‰‹å‹•ã«ãªã‚‹ã®ã§ã€Load Balancer ã‚’ä½¿ã†ã‚±ãƒ¼ã‚¹ã¯ auto scale ã®ãƒ¡ãƒªãƒƒãƒˆãŒç™ºæ®ã§ããªã„</del>
    </li>
    <li>
      <del datetime="2010-03-08T22:22:38+09:00">ã“ã‚ŒãŒã§ãã‚‹ã¨ web ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®è² è·åˆ†æ•£ã‚’è‡ªå‹•çš„ã«ã§ãã¦ã€auto scaling ã®ãƒ¡ãƒªãƒƒãƒˆãŒã§ã‚‹ãŒä»Šå›ã®æ©Ÿèƒ½è¿½åŠ ã§ã¯ã‚«ãƒãƒ¼ã§ãã¦ã„ãªã„</del>
    </li>
    <li>
      ä»Šå›ã®æ©Ÿèƒ½è¿½åŠ  auto scaling ã¯ instance ãŒè½ã¡ã¦ã—ã¾ã£ãŸéš›ã€è‡ªå‹•çš„ã«èµ·å‹•ã§ãã‚‹å¯¾éšœå®³æ€§ã®ã‚¢ãƒƒãƒ—ã«ã¯ãªã‚Šãã†
    </li>
  </ul>
  
  <h5>
    Amazon EC2 ãŒåˆ¶å¾¡ã§ãã‚‹ç¯„å›²ã¯ã‚ãã¾ã§ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ï½é›»æº ON/OFF ã¾ã§
  </h5>
  
  <ul>
    <li>
      Load Balancer ã¯æ—¢å­˜ã® L4 ã‚¹ã‚¤ãƒƒãƒã¨å¤‰ã‚ã‚‰ãªã„åŸºæœ¬å‹•ä½œã‚’ã™ã‚‹
    </li>
    <li>
      ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ©Ÿèƒ½çš„ã«ã¯ã“ã‚Œã§ã‚‚ã†æ•´ã£ãŸã¨ã„ã£ã¦ã„ã„ã®ã§ã¯
    </li>
    <li>
      AMI ãƒ™ãƒ¼ã‚¹ã§ auto scaling ã™ã‚‹ã®ã§ã€ç«‹ã¡ä¸ŠãŒã£ãŸéš›ã®ä¸æ•´åˆã¯èµ·ããªã„ç’°å¢ƒã§ AMI ä¿å­˜ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹
    </li>
    <li>
      auto scaling ã¯ã‚ãã¾ã§ instance ã®èµ·å‹•/çµ‚äº†ã«ãªã‚‹ã®ã§ã€OS å†…ã§ã®ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¯é–¢ä¸ã§ããªã„
    </li>
    <li>
      ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚„ DB ã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã‚’ã™ã‚‹éš›ã«ã¯ OS å†…ã®ã§ã®ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¿…è¦ãªã®ã§ã€ã“ã“ã¯ Amazon ã§ã¯ãªã„ã‚µãƒ¼ãƒ“ã‚¹æä¾›ä¼šç¤¾ãŒè¡Œãˆã‚‹éƒ¨åˆ†ã¨æ€ã‚ã‚Œã‚‹
    </li>
  </ul>
</div>

</article>


    <div class="share-page">
<ul class="rrssb-buttons clearfix">
    <li class="rrssb-email">
    <!-- Replace subject with your message using URL Endocding: http://meyerweb.com/eric/tools/dencoder/ -->
        <a href="mailto:?subject=Amazon%20EC2%20%E6%96%B0%E6%A9%9F%E8%83%BD%20Monitoring,%20Auto%20Scaling%20and%20Elastic%20Load%20Balancing%20%E3%82%92%E4%B8%80%E9%80%9A%E3%82%8A%E8%A7%A6%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F&amp;body=Check%20out:%20https://hirofukami.com/2009/05/24/amazon-ec2-monitoring-auto-scaling-and-elastic/">
            <span class="rrssb-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 28 28"><path d="M20.11 26.147c-2.335 1.05-4.36 1.4-7.124 1.4C6.524 27.548.84 22.916.84 15.284.84 7.343 6.602.45 15.4.45c6.854 0 11.8 4.7 11.8 11.252 0 5.684-3.193 9.265-7.398 9.3-1.83 0-3.153-.934-3.347-2.997h-.077c-1.208 1.986-2.96 2.997-5.023 2.997-2.532 0-4.36-1.868-4.36-5.062 0-4.75 3.503-9.07 9.11-9.07 1.713 0 3.7.4 4.6.972l-1.17 7.203c-.387 2.298-.115 3.3 1 3.4 1.674 0 3.774-2.102 3.774-6.58 0-5.06-3.27-8.994-9.304-8.994C9.05 2.87 3.83 7.545 3.83 14.97c0 6.5 4.2 10.2 10 10.202 1.987 0 4.09-.43 5.647-1.245l.634 2.22zM16.647 10.1c-.31-.078-.7-.155-1.207-.155-2.572 0-4.596 2.53-4.596 5.53 0 1.5.7 2.4 1.9 2.4 1.44 0 2.96-1.83 3.31-4.088l.592-3.72z"></path></svg></span>
            <span class="rrssb-text">email</span>
        </a>
    </li>
    <li class="rrssb-facebook">
<!--  Replace with your URL. For best results, make sure you page has the proper FB Open Graph tags in header: https://developers.facebook.com/docs/opengraph/howtos/maximizing-distribution-media-content/ -->
        <a href="https://www.facebook.com/sharer/sharer.php?u=https://hirofukami.com/2009/05/24/amazon-ec2-monitoring-auto-scaling-and-elastic/" class="popup">
            <span class="rrssb-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 29 29"><path d="M26.4 0H2.6C1.714 0 0 1.715 0 2.6v23.8c0 .884 1.715 2.6 2.6 2.6h12.393V17.988h-3.996v-3.98h3.997v-3.062c0-3.746 2.835-5.97 6.177-5.97 1.6 0 2.444.173 2.845.226v3.792H21.18c-1.817 0-2.156.9-2.156 2.168v2.847h5.045l-.66 3.978h-4.386V29H26.4c.884 0 2.6-1.716 2.6-2.6V2.6c0-.885-1.716-2.6-2.6-2.6z"></path></svg></span>
            <span class="rrssb-text">facebook</span>
        </a>
    </li>
    <li class="rrssb-twitter">
        <!-- Replace href with your Meta and URL information  -->
        <a href="https://twitter.com/intent/tweet?text=Amazon%20EC2%20%E6%96%B0%E6%A9%9F%E8%83%BD%20Monitoring,%20Auto%20Scaling%20and%20Elastic%20Load%20Balancing%20%E3%82%92%E4%B8%80%E9%80%9A%E3%82%8A%E8%A7%A6%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F&amp;url=https://hirofukami.com/2009/05/24/amazon-ec2-monitoring-auto-scaling-and-elastic/" class="popup">
            <span class="rrssb-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 28 28"><path d="M24.253 8.756C24.69 17.08 18.297 24.182 9.97 24.62a15.093 15.093 0 0 1-8.86-2.32c2.702.18 5.375-.648 7.507-2.32a5.417 5.417 0 0 1-4.49-3.64c.802.13 1.62.077 2.4-.154a5.416 5.416 0 0 1-4.412-5.11 5.43 5.43 0 0 0 2.168.387A5.416 5.416 0 0 1 2.89 4.498a15.09 15.09 0 0 0 10.913 5.573 5.185 5.185 0 0 1 3.434-6.48 5.18 5.18 0 0 1 5.546 1.682 9.076 9.076 0 0 0 3.33-1.317 5.038 5.038 0 0 1-2.4 2.942 9.068 9.068 0 0 0 3.02-.85 5.05 5.05 0 0 1-2.48 2.71z"></path></svg></span>
            <span class="rrssb-text">twitter</span>
        </a>
    </li>
    <li class="rrssb-linkedin">
        <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https://hirofukami.com/2009/05/24/amazon-ec2-monitoring-auto-scaling-and-elastic/&amp;title=Amazon%20EC2%20%E6%96%B0%E6%A9%9F%E8%83%BD%20Monitoring,%20Auto%20Scaling%20and%20Elastic%20Load%20Balancing%20%E3%82%92%E4%B8%80%E9%80%9A%E3%82%8A%E8%A7%A6%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F&amp;summary=Amazon%20EC2%20%E6%96%B0%E6%A9%9F%E8%83%BD%20Monitoring,%20Auto%20Scaling%20and%20Elastic%20Load%20Balancing%20%E3%82%92%E4%B8%80%E9%80%9A%E3%82%8A%E8%A7%A6%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F" class="popup">
            <span class="rrssb-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewbox="0 0 28 28">
                    <path d="M25.424 15.887v8.447h-4.896v-7.882c0-1.98-.71-3.33-2.48-3.33-1.354 0-2.158.91-2.514 1.802-.13.315-.162.753-.162 1.194v8.216h-4.9s.067-13.35 0-14.73h4.9v2.087c-.01.017-.023.033-.033.05h.032v-.05c.65-1.002 1.812-2.435 4.414-2.435 3.222 0 5.638 2.106 5.638 6.632zM5.348 2.5c-1.676 0-2.772 1.093-2.772 2.54 0 1.42 1.066 2.538 2.717 2.546h.032c1.71 0 2.77-1.132 2.77-2.546C8.056 3.593 7.02 2.5 5.344 2.5h.005zm-2.48 21.834h4.896V9.604H2.867v14.73z"></path>
                </svg>
            </span>
            <span class="rrssb-text">linkedin</span>
        </a>
    </li>
    <li class="rrssb-googleplus">
        <a href="https://plus.google.com/share?url=https://hirofukami.com/2009/05/24/amazon-ec2-monitoring-auto-scaling-and-elastic/" class="popup">
            <span class="rrssb-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24">
                    <path d="M21 8.29h-1.95v2.6h-2.6v1.82h2.6v2.6H21v-2.6h2.6v-1.885H21V8.29zM7.614 10.306v2.925h3.9c-.26 1.69-1.755 2.925-3.9 2.925-2.34 0-4.29-2.016-4.29-4.354s1.885-4.353 4.29-4.353c1.104 0 2.014.326 2.794 1.105l2.08-2.08c-1.3-1.17-2.924-1.883-4.874-1.883C3.65 4.586.4 7.835.4 11.8s3.25 7.212 7.214 7.212c4.224 0 6.953-2.988 6.953-7.082 0-.52-.065-1.104-.13-1.624H7.614z"></path>
                </svg>
            </span>
            <span class="rrssb-text">google+</span></a>
    </li>
    <li class="rrssb-pinterest">
        <a href="http://pinterest.com/pin/create/button/?url=https://hirofukami.com/2009/05/24/amazon-ec2-monitoring-auto-scaling-and-elastic/&amp;description=Amazon%20EC2%20%E6%96%B0%E6%A9%9F%E8%83%BD%20Monitoring,%20Auto%20Scaling%20and%20Elastic%20Load%20Balancing%20%E3%82%92%E4%B8%80%E9%80%9A%E3%82%8A%E8%A7%A6%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F"><span class="rrssb-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewbox="0 0 28 28">
                <path d="M14.02 1.57c-7.06 0-12.784 5.723-12.784 12.785S6.96 27.14 14.02 27.14c7.062 0 12.786-5.725 12.786-12.785 0-7.06-5.724-12.785-12.785-12.785zm1.24 17.085c-1.16-.09-1.648-.666-2.558-1.22-.5 2.627-1.113 5.146-2.925 6.46-.56-3.972.822-6.952 1.462-10.117-1.094-1.84.13-5.545 2.437-4.632 2.837 1.123-2.458 6.842 1.1 7.557 3.71.744 5.226-6.44 2.924-8.775-3.324-3.374-9.677-.077-8.896 4.754.19 1.178 1.408 1.538.49 3.168-2.13-.472-2.764-2.15-2.683-4.388.132-3.662 3.292-6.227 6.46-6.582 4.008-.448 7.772 1.474 8.29 5.24.58 4.254-1.815 8.864-6.1 8.532v.003z"></path>
            </svg></span><span class="rrssb-text">pinterest</span></a>
    </li>
</ul>
</div>



  <div class="py2 post-footer">
  <div class="center">
    <small class="center small">
      ğŸ˜Šã‚‚ã—ã“ã®è¨˜äº‹ãŒå½¹ã«ç«‹ã£ãŸãªã‚‰ã€ã‚³ãƒ¼ãƒ’ãƒ¼ä»£ã‚’ãŠé¡˜ã„ã—ã¾ã™â˜•ï¸
    </small>
    <div class="m1">
      <a href="https://buy.stripe.com/7sI17U2NJcRt1oc144" target="_blank">
        <div class="button button-blue">æŠ•ã’éŠ­ã™ã‚‹</div>
      </a>
    </div>
  </div>

  <hr class="m2">

  <div class="row">
    <div class="col-sm-2 col-sm-offset-3 text-center">
      <div class="auther-thumb">
        <a href="/">
          <img src="/images/hirofukami.jpg" alt="Hiro Fukami" class="img-circle">
        </a>
      </div>
    </div>
    <div class="col-sm-6 text-left">
      <p>
        <strong>ç­†è€…ã«ã¤ã„ã¦</strong><br>
        æ·±æµ·å¯›ä¿¡<br>
        ãµã‹ã¿ã²ã‚ã®ã¶ Hiro Fukami
      </p>
    </div>
  </div>

  <div class="py1">
    <small>
      è‡ªç¤¾ã‚µãƒ¼ãƒ“ã®é–‹ç™ºé‹ç”¨ã‚’ã—ã¤ã¤ã€ITã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºã®ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã€ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã€ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°ã€ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢è‚²æˆãªã©ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚<br>ä»Šã¾ã§ã®è·æ­´ã‚„ãŠä»•äº‹ã®å±¥æ­´ã¯<a href="/professional-career/">ã“ã¡ã‚‰(è·å‹™çµŒæ­´æ›¸)</a><br>ãŠä»•äº‹ã®ä¾é ¼ã‚„ç›¸è«‡ã¯ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰ãŠé€ã‚Šãã ã•ã„ã€‚<br>å†…å®¹ã‚’ç¢ºèªã®ä¸Šã€ãƒ¡ãƒ¼ãƒ«ã«ã¦ã”é€£çµ¡ã„ãŸã—ã¾ã™ã€‚
    </small>
  </div>
  <div class="center">
    <a href="/contact">
      <div class="button button-blue">
        ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ•ã‚©ãƒ¼ãƒ 
      </div>
    </a>
  </div>
</div>




  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname  = 'hirofukamisblog';
    var disqus_identifier = '/2009/05/24/amazon-ec2-monitoring-auto-scaling-and-elastic';
    var disqus_title      = 'Amazon EC2 æ–°æ©Ÿèƒ½ Monitoring, Auto Scaling and Elastic Load Balancing ã‚’ä¸€é€šã‚Šè§¦ã£ã¦ã¿ãŸ';

    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>





  <h3 class="related-post-title">Related Posts</h3>
  
    <div class="post ml2">
      <a href="/2023/10/16/flutter-in-app-purchase/" class="post-link">
        <h4 class="post-title">Flutter in_app_purchase ã§å®šæœŸè³¼å…¥ã‚’å®Ÿç¾ã™ã‚‹æ–¹æ³• 2023å¹´ç‰ˆ</h4>
        <p class="post-summary"></p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2023/06/14/pep-buildup-UCL-final/" class="post-link">
        <h4 class="post-title">ãƒšãƒƒãƒ—ã®ãƒ“ãƒ«ãƒ‰ã‚¢ãƒƒãƒ— UEFA Champions League Final</h4>
        <p class="post-summary"></p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2023/03/08/tech-adviser/" class="post-link">
        <h4 class="post-title">ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼ä»•äº‹ãŒçµ‚ã‚ã£ãŸã®ã§ã¾ã¨ã‚</h4>
        <p class="post-summary"></p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2023/03/07/amazon-kinkdle-paperback/" class="post-link">
        <h4 class="post-title">Amazon ã§ Kindle ã¨ãƒšãƒ¼ãƒ‘ãƒ¼ãƒãƒƒã‚¯ã‚’ä½œã‚‹ã‚„ã‚Šæ–¹</h4>
        <p class="post-summary"></p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2023/03/06/permissible-older/" class="post-link">
        <h4 class="post-title">[æ€è€ƒ]è€ã„ã¸ã®è¨±å®¹</h4>
        <p class="post-summary"></p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2023/02/17/paper-back-your-startup/" class="post-link">
        <h4 class="post-title">ã€Œã²ã¨ã‚Šã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã€ãŒæœ¬ã®å½¢ã«ãªã‚Šã¾ã—ãŸ</h4>
        <p class="post-summary"></p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2022/12/31/2022review/" class="post-link">
        <h4 class="post-title">2022å¹´ã‚’æŒ¯ã‚Šè¿”ã‚‹</h4>
        <p class="post-summary"></p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2022/12/14/hardware-web/" class="post-link">
        <h4 class="post-title">ãƒãƒ¼ãƒ‰ã‚¦ã‚¨ã‚¢ã®WebåŒ–</h4>
        <p class="post-summary"></p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2022/12/12/book-your-starup/" class="post-link">
        <h4 class="post-title">æœ¬ã‚’æ›¸ãã¾ã—ãŸã€Œã²ã¨ã‚Šã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã€</h4>
        <p class="post-summary"></p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2022/11/15/start-service-policy/" class="post-link">
        <h4 class="post-title">è‡ªåˆ†ã§ã¯ãªã„ä»–ã®èª°ã‹ã®ãŸã‚ã«ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½œã‚‹</h4>
        <p class="post-summary"></p>
      </a>
    </div>
  


    </div>
  </div>
</div>

<footer class="center">
  <div class="measure">
    <small>
			<div class="row">
				<div class="col-sm-2 col-sm-offset-3 text-center">
          <div class="auther-thumb">
            <a href="/">
              <img src="/images/hirofukami.jpg" alt="Hiro Fukami" class="img-circle">
            </a>
          </div>
				</div>
				<div class="col-sm-4 text-left text-muted">
          <div class="short-profile">
		        <b>Hiro Fukami</b><br>
            <a href="https://twitter.com/d_sea" target="_blank">@d_sea</a>. Business Starter and Engineer in Tokyo.
					Founder and CEO of <a href="https://players1.st" target="_blank">Players1st inc.</a> See more about me <a href="/about">here</a>.
          </div>
				</div>
			</div>

			<br>

			Copyright Â© 2023
			
			    Hiro Fukami
			
    </small>
  </div>
</footer>



</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.0.0/mermaid.min.js"></script>
<script>
   mermaid.initialize({
       startOnLoad:true,
       theme: 'default'
   });
   window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid'));
</script>
</html>
