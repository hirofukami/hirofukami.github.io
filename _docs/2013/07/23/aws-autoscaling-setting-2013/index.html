<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>AWS ã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°è¨­å®šæ–¹æ³• &#8211; 2013å¹´ç‰ˆå®Ÿè·µç·¨ &#8211; Hiro Fukami's Blog - æ·±æµ·å¯›ä¿¡ã®ãƒ–ãƒ­ã‚°</title>
    <link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com">
    <link rel="dns-prefetch" href="//cdn.mathjax.org">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Hiro Fukami(æ·±æµ·å¯›ä¿¡ ãµã‹ã¿ã²ã‚ã®ã¶)'s Blog : ä¸–ã®ä¸­ã‚’ã‚ˆã‚Šè‰¯ãå¤‰ãˆã‚‹ãŸã‚ã€ä¸–ã®ä¸­ã«ãªã„æ–°ã—ã„ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ¨¡ç´¢ã™ã‚‹æ—¥ã€…ã€‚CEO of Players1st inc., Business Starter, Engineer and Daddy.">
    <meta name="robots" content="all">
    <meta name="author" content="Hiro Fukami">
    <meta name="keywords" content="Tech">
    <link rel="canonical" href="https://hirofukami.com/2013/07/23/aws-autoscaling-setting-2013/">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for Hiro Fukami's Blog - æ·±æµ·å¯›ä¿¡ã®ãƒ–ãƒ­ã‚°" href="/feed.xml" />

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/pixyll.css?202310161212" type="text/css">

    <!-- Fonts -->
    
    <link href='//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Lato:900,300' rel='stylesheet' type='text/css'>
    
    
      <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- MathJax -->
    

    <!-- Verifications -->
    
    

    <!-- Open Graph -->
    <!-- From: https://github.com/mmistakes/hpstr-jekyll-theme/blob/master/_includes/head.html -->
    <meta property="og:locale" content="ja_JP">
    <meta property="og:type" content="article">
    <meta property="og:title" content="AWS ã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°è¨­å®šæ–¹æ³• &amp;#8211; 2013å¹´ç‰ˆå®Ÿè·µç·¨">
    <meta property="og:description" content="Hiro Fukami(æ·±æµ·å¯›ä¿¡ ãµã‹ã¿ã²ã‚ã®ã¶)'s Blog : ä¸–ã®ä¸­ã‚’ã‚ˆã‚Šè‰¯ãå¤‰ãˆã‚‹ãŸã‚ã€ä¸–ã®ä¸­ã«ãªã„æ–°ã—ã„ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ¨¡ç´¢ã™ã‚‹æ—¥ã€…ã€‚CEO of Players1st inc., Business Starter, Engineer and Daddy.">
    <meta property="og:url" content="https://hirofukami.com/2013/07/23/aws-autoscaling-setting-2013/">
    <meta property="og:site_name" content="Hiro Fukami's Blog - æ·±æµ·å¯›ä¿¡ã®ãƒ–ãƒ­ã‚°">
    
      <meta property="og:image" content="https://hirofukami.com/images/title.png" />
    
    
      
      <meta content="Tech" property="article:section">
      
    
    
      
      <meta content="auto scaling" property="article:tag">
      
      <meta content="AWS" property="article:tag">
      
      <meta content="cloud" property="article:tag">
      
      <meta content="CloudWatch" property="article:tag">
      
      <meta content="setting" property="article:tag">
      
    

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    
      <meta name="twitter:site" content="@d_sea" />
      <meta name="twitter:creator" content="@d_sea" />
    

    <!-- Icons -->
    <link rel="icon" type="image/png" href="/images/favicon.png">

    
    <script type="text/javascript">
       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
       ga('create', 'UA-44359867-3', 'auto');
       ga('send', 'pageview');
    </script>
    

</head>

<body class="site">
  
	

<div class="site-wrap">
  <header class="site-header px2 px-responsive">
  <div class="mt2 wrap">
    <div class="measure">
      <div class="row">
        <div class="col-md-6 center">
          <div class="site-title">
            <a href="/" class="site-title">Hiro Fukami's Blog - æ·±æµ·å¯›ä¿¡ã®ãƒ–ãƒ­ã‚°</a>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 center">
          <div class="auther-thumb">
            <a href="/">
              <img src="/images/hirofukami.jpg" alt="Hiro Fukami" class="img-circle">
            </a>
          </div>
        </div>
        <div class="col-md-6">
          <nav class="site-nav">
            
    

    
        <a href="/about/">About</a>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    


    

    

    

    

    
        <a href="/contact/">Contact</a>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    


  <form action="https://google.com/search" method="get">
    <input type="text" name="q" results="0" placeholder="Search">
    <input type="hidden" name="as_sitesearch" value="https://hirofukami.com">
  </form>


          </nav>
          <div class="clearfix"></div>
          
          <div class="social-icons">
  <div class="social-icons-right">
    
    <a class="fa fa-twitter" href="https://twitter.com/d_sea"></a>
    
    
    <a class="fa fa-instagram" href="https://www.instagram.com/d_sea"></a>
    
    
    <a class="fa fa-facebook" href="https://facebook.com/fukami"></a>
    
    
    <a class="fa fa-linkedin" href="https://www.linkedin.com/in/hirofukami"></a>
    
    
      <a class="fa fa-github" href="https://github.com/d-sea"></a>
    
    
    
      <a class="fa fa-shopping-cart" href="https://hirofukami.official.ec/"></a>
    
    
    
    
    
    
      <a class="fa fa-envelope" href="mailto:dee.sea@gmail.com"></a>
    
    
    
    <a class="fa fa-rss" href="/feed.xml"></a>
  </div>
  <div class="right">
    
    
    
  </div>
</div>
<div class="clearfix"></div>

          
        </div>
      </div>
    </div>
  </div>
</header>


  <div class="post p2 p-responsive wrap" role="main">
    <div class="measure">
      


<div class="post-header mb2">
  <h1>AWS ã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°è¨­å®šæ–¹æ³• â€“ 2013å¹´ç‰ˆå®Ÿè·µç·¨</h1>
  <span class="post-meta">Jul 23, 2013</span><br>
  
  <span class="post-meta">
  <small>
  <div class="post-categories">
  Categories: 
  
  
  <a href="/categories/#Tech">Tech</a>
  
</div>
  <div class="post-tags">
  Tags: 
  
  
  <a href="/tags/#auto%20scaling">auto scaling</a>,
  
  <a href="/tags/#AWS">AWS</a>,
  
  <a href="/tags/#cloud">cloud</a>,
  
  <a href="/tags/#CloudWatch">CloudWatch</a>,
  
  <a href="/tags/#setting">setting</a>
  
</div>
  </small>
  </span>
<!--   <span class="post-meta small">
  
    4 minute read
  
  </span>
 -->
</div>

<article class="post-content">
  <p>AWS ãŒ Auto Scalingã€CloudWatchã€Elastic Load Balancing ã‚’ç™ºè¡¨ã—ãŸæ™‚ã¯èˆˆå¥®ã—ã¦ã€ã™ãã«è§¦ã£ã¦ãƒ–ãƒ­ã‚°ã«æ›¸ãã¾ã—ãŸã€‚</p>

<ul>
  <li><a title="Amazon EC2 æ–°æ©Ÿèƒ½ Monitoring, Auto Scaling and Elastic Load BalancingÂ ã‚’ä¸€é€šã‚Šè§¦ã£ã¦ã¿ãŸ" href="http://hirofukami.com/2009/05/24/amazon-ec2-monitoring-auto-scaling-and-elastic/" target="_blank">Amazon EC2 æ–°æ©Ÿèƒ½ Monitoring, Auto Scaling and Elastic Load Balancing ã‚’ä¸€é€šã‚Šè§¦ã£ã¦ã¿ãŸ</a></li>
  <li><a title="Amazon EC2 Auto ScalingÂ ã‚’ã‚‚ã†å°‘ã—è©³ã—ãè¦‹ã¦ã¿ãŸ" href="http://hirofukami.com/2010/03/05/amazon-ec2-auto-scaling/" target="_blank">Amazon EC2 Auto Scaling ã‚’ã‚‚ã†å°‘ã—è©³ã—ãè¦‹ã¦ã¿ãŸ</a></li>
</ul>

<p>ãã®æƒ…å ±ã‚’å…ƒã«ã—ã¦ <a href="http://www.amazon.co.jp/gp/product/4774142840/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774142840&amp;linkCode=as2&amp;tag=dsea-22" target="_blank">ã€Œã‚ˆãã‚ã‹ã‚‹AmazonEC2/S3å…¥é–€ã€ã‚’åŸ·ç­†ã—ãŸ</a> ã®ã ã‘ã©ã€4å¹´å‰ã®æƒ…å ±ãªã®ã§ã‚‚ã†å¤ãã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã®è¨­å®šæ–¹æ³•ã‚‚å¤‰ã‚ã£ãŸã‚ˆã†ã ã£ãŸã®ã§ã—ã£ã‹ã‚Šè¿½ã„ã¤ããŸã„ã¨æ€ã£ã¦å†ã³è§¦ã£ã¦ã¿ãŸã€‚</p>

<p>çµè«–çš„ã«ã¯ä»¥å‰ã¨åŒã˜ã‚ˆã†ã«æ€ã£ãŸé€šã‚Šã®æŒ™å‹•ãŒç¢ºèªã§ããŸã€‚AWS ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚‚å……å®Ÿã—ã¦ã„ã¦ç†è§£ã‚’ã ã„ã¶åŠ©ã‘ãŸãŒã€ã¡ã‚‡ã„ã¡ã‚‡ã„é–“é•ã£ã¦ã„ã‚‹ç‚¹ãŒã‚ã£ãŸã‚Šã€åŸºæœ¬çš„ã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒå¤šãã¦èª¬æ˜ãŒå°‘ãªã„ã®ã§ã€ãƒ¦ãƒ¼ã‚¶ã«ã¯ã¨ã£ã¤ãã«ãã„ã¨ã„ã†ã‚ˆã‚Šã€ã¡ã‚ƒã‚“ã¨å‹•ã‹ã™ã¾ã§ã«çµæ§‹å¤§å¤‰ãªæ€ã„ã‚’ã™ã‚‹ã‚‚ã®ãªã®ã¯å¤‰ã‚ã‚‰ãªã„ã‚ˆã†ã ã€‚<br>
ãŸã ã€å®Ÿè·µã§ã¡ã‚ƒã‚“ã¨ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚‹ã¨é­”æ³•ã®ãƒ„ãƒ¼ãƒ«ã«ãªã‚‹ã®ã§ã€è¨­å®šæ–¹æ³•ã‚’ç´¹ä»‹ã—ã¦ãŠå½¹ã«ç«‹ã¦ã‚Œã°å¹¸ã„ã§ã™ã€‚</p>

<p>å‚è€ƒURLã¨ã—ã¦ã¯ã€<a href="http://docs.aws.amazon.com/AutoScaling/latest/DeveloperGuide/as-scale-based-on-demand.html" target="_blank">AWS ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚µã‚¤ãƒˆã® Auto Scaling â€“ Scale Based on Demand</a> ã«æ²¿ã£ã¦é€²ã‚ã‚‹ã¨ã§ãã‚‹ãŒã€ãã®é€šã‚Šã ã¨å‹•ã‹ãªã„éƒ¨åˆ†ã‚‚ã‚ã‚Šã€ã¡ã‚‡ã£ã¨ã—ãŸè§£èª¬ã‚„è£œè¶³ã‚’åŠ ãˆã¦æ—¥æœ¬èªã§ä»¥ä¸‹ã«æ›¸ã„ã¦ã„ãã¾ã™ã€‚</p>

<h2 id="ç›®æŒ‡ã™æŒ™å‹•">ç›®æŒ‡ã™æŒ™å‹•</h2>

<p>ã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã‚’æ´»ç”¨ã—ã¦å®Ÿæˆ¦çš„ã«ä½¿ãˆã‚‹è¨­å®šæ–¹æ³•ã¨ã—ã¦ã¯ã€</p>

<ul>
  <li>å¸¸ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®è² è·çŠ¶æ…‹ã‚’ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã—ã¦ã„ã‚‹</li>
  <li>ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®ã‚ã‚‹é–¾å€¤ã‚’è¶…ãˆãŸã‚‰è‡ªå‹•çš„ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ•°ã‚’å¢—æ¸›ã•ã›ã‚‹</li>
  <li>èµ·å‹•ã—ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ ELB ã®é…ä¸‹ã«ç½®ã‹ã‚Œã‚‹</li>
</ul>

<p>ã“ã‚ŒãŒã§ãã‚‹ã¨ä¾‹ãˆã°ã€Webãƒ•ãƒ­ãƒ³ãƒˆã‚µãƒ¼ãƒã®ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ãªç’°å¢ƒã‚’ä½œã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚<br>
è‡ªå‹•çš„ã«ã‚¹ã‚±ãƒ¼ãƒ«ã—ã¦ãã‚Œã‚‹ã®ã§ã€ä»Šã¾ã§äººé–“ãƒªã‚½ãƒ¼ã‚¹ã«é ¼ã£ã¦ã„ãŸéƒ¨åˆ†ãŒä¸¸ã”ã¨ãªããªã£ã¦ã‚³ã‚¹ãƒˆã‚«ãƒƒãƒˆã‚‚ç‹™ãˆã‚‹ã€‚</p>

<p>ãŸã æ³¨æ„ç‚¹ã¯ã€èµ·å‹•ã—ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯èµ·å‹•å¾Œå‡¦ç†ã‚’é–‹å§‹ã§ãã‚‹ã“ã¨ã‚’æ‹…ä¿ã—ã¦ã‚ã’ãªã„ã¨ã„ã‘ãªã„ã®ã§ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‚„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è‡ªå‹•èµ·å‹•ãªã©ã‚’è¡Œã†ãŸã‚ã®ã‚»ãƒƒãƒ†ã‚£ãƒ³ã‚°ã‚„èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ç”¨æ„ãªã©ãŒå¿…è¦ã€‚</p>

<h2 id="auto-scaling-è¨­å®šæ¦‚è¦">Auto Scaling è¨­å®šæ¦‚è¦</h2>

<p>ã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã®è¨­å®šã¯è¤‡æ•°ã®è¨­å®šã‚’çµ„ã¿åˆã‚ã›ã¦å‹•ä½œã•ã›ã‚‹ã€‚</p>

<ul>
  <li>launch-config : ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®èµ·å‹•æƒ…å ±ã‚’è¨­å®šã™ã‚‹ã€‚AMIã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã€ã‚­ãƒ¼ãƒšã‚¢ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ãªã©ã‚’æŒ‡å®šã™ã‚‹</li>
  <li>auto-scaling-group : ã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã®ä¸­å¿ƒã¨ãªã‚‹è¨­å®šã€‚æœ€å¤§æœ€å°èµ·å‹•ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ•°ã€ELBã€ã‚¢ãƒ™ã‚¤ãƒ©ãƒ“ãƒªãƒ†ã‚£ã‚¾ãƒ¼ãƒ³ãªã©ã‚’æŒ‡å®šã™ã‚‹</li>
  <li>scaling policy : ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å¢—æ¸›æ–¹æ³•ã®è¨­å®šã€‚ä¸€åº¦ã«ç«‹ã¡ä¸Šã’ã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ•°ãªã©ã‚’æŒ‡å®šã™ã‚‹</li>
  <li>metric-alarm : CloudWatch ã«ãŠã‘ã‚‹é–¾å€¤ã®è¨­å®šã€‚ã©ã‚“ãªæ¡ä»¶ã®æ™‚ã«ã‚¢ãƒ©ãƒ¼ãƒˆã‚’å‡ºã™ã‹ã‚’æŒ‡å®šã™ã‚‹</li>
</ul>

<p>ä¸Šã®3ã¤ãŒ Auto Scaling ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã€æœ€å¾Œã¯ CloudWatch ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã™ã‚‹ã€‚<br>
å„è¨­å®šã¨æŒ™å‹•ã‚’æ•´ç†ã™ã‚‹ã¨ä»¥ä¸‹ã®å›³ã®ã‚ˆã†ã«ãªã‚‹ã€‚<br>
<a href="/images/2013/07/130723aws-autoscaling-001.png"><img class="aligncenter size-large wp-image-1103" alt="130723AWS-AutoScaling.001" src="/images/2013/07/130723aws-autoscaling-001.png?resize=830%2C622" data-recalc-dims="1"></a><!--more--></p>

<h2 id="æº–å‚™">æº–å‚™</h2>

<p>ç¾åœ¨ ã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã®è¨­å®šã¯ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ã®ã¿ã®ã‚ˆã†ãªã®ã§ã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€è‡ªåˆ†ã®ç’°å¢ƒã«é©ç”¨ã•ã›ã‚‹ã€‚</p>

<ul>
  <li>Auto Scaling Command Line Tool : http://aws.amazon.com/developertools/2535</li>
  <li>CloudWatch Command Line Tool : http://aws.amazon.com/developertools/2534</li>
</ul>

<p>è‡ªåˆ†ã®ç’°å¢ƒã¸ã®é©ç”¨æ–¹æ³•ã¯å‰²æ„›ã€‚<br>
çµæœã¨ã—ã¦ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ as ã‚³ãƒãƒ³ãƒ‰ã¨ mon ã‚³ãƒãƒ³ãƒ‰ãŒå®Ÿè¡Œå¯èƒ½ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã€‚</p>

<p>å„ã‚³ãƒãƒ³ãƒ‰ã‚’ç†è§£ã™ã‚‹ã«ã¯ [ã‚³ãƒãƒ³ãƒ‰] -h ã¨ã—ã¦ãƒ˜ãƒ«ãƒ—ã‚’è¦‹ã‚‹ã€‚å¿…é ˆé …ç›®ã¯ä½•ã‹ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®æ„å‘³ãªã©ãŒåˆ†ã‹ã‚‹ã€‚</p>

<h2 id="launch-config-ã®è¨­å®š">launch config ã®è¨­å®š</h2>

<p>as-create-launch-config ã§ launch config ã®ä½œæˆã‚’ã™ã‚‹ã€‚<br>
ä»¥ä¸‹ã¯ã€</p>

<ul>
  <li>launch-config å : demo00-test04</li>
  <li>AMI : ami-893cab88</li>
  <li>ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ— : t1.micro</li>
  <li>ã‚­ãƒ¼ãƒšã‚¢ : deesea</li>
  <li>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ— : quick-start-1</li>
  <li>ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ : ap-northeast-1 (Tokyo)</li>
</ul>

<p>ã¨ã—ãŸå ´åˆã®è¨­å®šæ–¹æ³•</p>

<pre class="brush: bash; title: ; notranslate" title="">$ as-create-launch-config demo00-test04 --image-id ami-893cab88 --instance-type t1.micro --region ap-northeast-1 --key deesea --group quick-start-1
</pre>

<p>ã‚­ãƒ¼ãƒšã‚¢ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã¯å¿…é ˆé …ç›®ã§ã¯ãªã„ã®ã ã‘ã©ã€è¨­å®šã—ãªã„ã¨ã‚µãƒ¼ãƒã«ãƒ­ã‚°ã‚¤ãƒ³å‡ºæ¥ãªã„ã€ã‚µãƒ¼ãƒ“ã‚¹ã§ããªã„ã“ã¨ã«ãªã‚‹ã®ã§ç¾å®Ÿçš„ã«ã¯å¿…é ˆé …ç›®ã€‚</p>

<p>ç¢ºèªã™ã‚‹æ™‚ã¯ã€as-describe-launch-config ã™ã‚‹</p>

<pre class="brush: bash; title: ; notranslate" title="">$ as-describe-launch-configs -H
LAUNCH-CONFIG  NAME           IMAGE-ID      TYPE
LAUNCH-CONFIG  demo00-test04  ami-893cab88  t1.micro
</pre>

<h2 id="auto-scaling-group-ã®è¨­å®š">Auto Scaling Group ã®è¨­å®š</h2>

<p>as-create-auto-scaling-group ã§ auto scaling group ã‚’ä½œæˆã™ã‚‹ã€‚<br>
ä»¥ä¸‹ã¯ã€</p>

<ul>
  <li>auto-scaling-group å : demo00-test00-group00</li>
  <li>é©ç”¨ã•ã›ã‚‹ launch config å : demo00-test04</li>
  <li>(å¿…è¦ã§ã‚ã‚Œã°) èµ·å‹•ã—ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é…ä¸‹ã«ã¤ã‘ã‚‹ ELB å : demo00</li>
  <li>èµ·å‹•æœ€å¤§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ•° : 10</li>
  <li>èµ·å‹•æœ€å°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ•° : 2</li>
  <li>ã‚¢ãƒ™ã‚¤ãƒ©ãƒ“ãƒªãƒ†ã‚£ã‚¾ãƒ¼ãƒ³ : ap-northeast-1a, ap-northeast-1c</li>
  <li>ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ : ap-northeast-1 (Tokyo)</li>
</ul>

<p>ã¨ã—ãŸå ´åˆã®è¨­å®šæ–¹æ³•</p>

<pre class="brush: bash; title: ; notranslate" title="">$ as-create-auto-scaling-group demo00-test00-group00 --launch-configuration demo00-test04 --load-balancers demo00 --max-size 10 --min-size 2 --availability-zones ap-northeast-1a,ap-northeast-1c --region ap-northeast-1
</pre>

<p>ã“ã®è¨­å®šã‚’ã—ãŸæ™‚ç‚¹ã§ã€min-size æ•°ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒè‡ªå‹•çš„ã«èµ·å‹•ã™ã‚‹ã€‚<br>
min-size ã¯ã€Œå¸¸ã«èµ·å‹•ã™ã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ•°ã€ã«ãªã‚‹ã®ã§ã€min-size 1 ä»¥ä¸Šã«ã™ã‚Œã°è½ã¡ãªã„çŠ¶æ…‹ã‚’ä½œã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚</p>

<p>ç¢ºèªã™ã‚‹æ™‚ã¯ã€as-describe-auto-scaling-groups ã™ã‚‹</p>

<pre class="brush: bash; title: ; notranslate" title="">$ as-describe-auto-scaling-groups
AUTO-SCALING-GROUP  demo00-test00-group00  demo00-test04  ap-northeast-1c,ap-northeast-1a  demo00  2  10  2  Default
INSTANCE  i-eaea06ee  ap-northeast-1c  InService  Healthy  demo00-test04
INSTANCE  i-48c9254c  ap-northeast-1a  InService  Healthy  demo00-test04
</pre>

<p>èµ·å‹•ã—ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚‚è¡¨ç¤ºã•ã‚Œã‚‹ã€‚ã“ã®å ´åˆ2ã¤ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒ ap-northeast-1a ã¨ ap-northeast-1c ã«åˆ†æ•£ã—ã¦èµ·å‹•ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹ã€‚</p>

<p>ä¿®æ­£ã—ãŸã„æ™‚ã¯ã€as-update-auto-scaling-group ã‚’ä½¿ã†ã€‚ä¿®æ­£ã—ãŸã„éƒ¨åˆ†ã ã‘æ›¸ã‘ã°ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã•ã‚Œã‚‹ã€‚</p>

<pre class="brush: bash; title: ; notranslate" title="">$ as-update-auto-scaling-group demo00-test00-group00 --launch-config demo00-test05
</pre>

<p>ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚³ãƒãƒ³ãƒ‰ãŒã‚ã‚‹ã®ã¯ auto scaling group ã ã‘ãªã®ã§ã€AMI ã‚’æ›´æ–°ã—ãŸæ™‚ã®é©ç”¨æ–¹æ³•ã¯ã€</p>

<ol>
  <li>as-create-launch-config ã§æ–°ã—ã„ launch config ã‚’ä½œæˆ</li>
  <li>as-update-auto-scaling-group ã§é©ç”¨ã•ã›ã‚‹ launch config ã‚’å¤‰æ›´</li>
  <li>as-delete-launch config ã§å¤ã„ launch config ã‚’å‰Šé™¤</li>
</ol>

<p>ã¨ã„ã†æµã‚Œã‚’è¸ã‚€å¿…è¦ãŒã‚ã‚‹ã€‚</p>

<h2 id="scaling-policy-ã®è¨­å®š">Scaling Policy ã®è¨­å®š</h2>

<p>as-put-scaling-policy ã§ scaling policy ã‚’ä½œæˆã™ã‚‹ã€‚<br>
ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆã¨ã‚¹ã‚±ãƒ¼ãƒ«ã‚¤ãƒ³ãã‚Œãã‚Œã«å¯¾ã—ã¦è¨­å®šã™ã‚‹ã€‚<br>
ä»¥ä¸‹ã¯ã€ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆç”¨</p>

<ul>
  <li>scaling policy å : demo00-test00-outpolicy00</li>
  <li>é©ç”¨ã™ã‚‹ auto scaling group å : demo00-test00-group00</li>
  <li>adjustment ãƒˆãƒªã‚¬ãƒ¼ã«å¼•ã£ã‹ã‹ã£ãŸæ™‚ã«å¢—ã‚„ã™å€¤ : 50</li>
  <li>type adjustmentã®å˜ä½ : PercentChangeInCapacity</li>
  <li>ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ : ap-northeast-1 (Tokyo)</li>
</ul>

<p>adjustment 50 ã§ type ãŒ PercentChangeInCapacity ã¨è¨€ã†ã“ã¨ã¯ã€‚å…¨ä½“ã®ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£ã«å¯¾ã—ã¦ 50% å¢—åŠ ã™ã‚‹åˆ†ã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã‚’ã™ã‚‹ã¨ã„ã†æ„å‘³ã€‚ç¾åœ¨ã®èµ·å‹•ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ•°ãŒ2ã ã£ãŸã‚‰ã€2ã®50ï¼…ã®1ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’èµ·å‹•ã—ã¦åˆè¨ˆ3ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ãªã‚‹ã€‚ç¾åœ¨ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ•°ãŒ10ã ã£ãŸã‚‰ã€5ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¢—ãˆã¦åˆè¨ˆ15ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ãªã‚‹ã€‚</p>

<pre class="brush: bash; title: ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ; notranslate" title="ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ">$ as-put-scaling-policy demo00-test00-outpolicy00 -g demo00-test00-group00 --adjustment 50 --type PercentChangeInCapacity --region ap-northeast-1
</pre>

<p>Â </p>

<pre class="brush: bash; title: å‡ºåŠ›çµæœ; notranslate" title="å‡ºåŠ›çµæœ">arn:aws:autoscaling:ap-northeast-1:910777643605:scalingPolicy:801eb489-69c7-4ecd-8b5c-60e7509c9dbf:autoScalingGroupName/demo00-test00-group00:policyName/demo00-test00-outpolicy00
</pre>

<p>ä»¥ä¸‹ã¯ã€ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆç”¨</p>

<ul>
  <li>scaling policy å : demo00-test00-inpolicy00</li>
  <li>é©ç”¨ã™ã‚‹ auto scaling group å : demo00-test00-group00</li>
  <li>adjustment ãƒˆãƒªã‚¬ãƒ¼ã«å¼•ã£ã‹ã‹ã£ãŸæ™‚ã«å¢—ã‚„ã™å€¤ : -1</li>
  <li>type adjustmentã®å˜ä½ : ChangeInCapacity</li>
  <li>ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ : ap-northeast-1 (Tokyo)</li>
</ul>

<p>ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ•°ã‚’æ¸›ã‚‰ã™ã®ã§ã€adjustment ã¯ãƒã‚¤ãƒŠã‚¹ã®æ•°å­—ã«ãªã‚‹ã€‚<br>
ã“ã“ã§ã¯å˜ç´”ã«1ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æ¸›ã‚‰ã™è¨­å®šå†…å®¹ã€‚</p>

<pre class="brush: bash; title: ã‚¹ã‚±ãƒ¼ãƒ«ã‚¤ãƒ³; notranslate" title="ã‚¹ã‚±ãƒ¼ãƒ«ã‚¤ãƒ³">$ as-put-scaling-policy demo00-test00-inpolicy00 -g demo00-test00-group00 --adjustment=-1 --type ChangeInCapacity --region ap-northeast-1
</pre>

<p>Â </p>

<pre class="brush: bash; title: å‡ºåŠ›çµæœ; notranslate" title="å‡ºåŠ›çµæœ">arn:aws:autoscaling:ap-northeast-1:910777643605:scalingPolicy:0ce7a750-7fa1-46fc-a316-d2647013aa3f:autoScalingGroupName/demo00-test00-group00:policyName/demo00-test00-inpolicy00
</pre>

<p>arn: ã‹ã‚‰å§‹ã¾ã‚‹å‡ºåŠ›çµæœã¯æ¬¡ã§è¨­å®šã™ã‚‹ CloudWatch ã®è¨­å®šæ™‚ã«ä½¿ã†ã®ã§ãƒ¡ãƒ¢ã£ã¦ãŠãã€‚<br>
as-describe-policies ã‚³ãƒãƒ³ãƒ‰ã® POLICY-ARN é …ç›®ã§ã‚‚ç¢ºèªã§ãã‚‹ã€‚</p>

<h2 id="metric-alarm-ã®è¨­å®š">metric alarm ã®è¨­å®š</h2>

<p>CloudWatch ã®ã‚³ãƒãƒ³ãƒ‰ mon-put-metric-alrm ã‚’ä½¿ã£ã¦é–¾å€¤ã‚’è¨­å®šã™ã‚‹ã€‚<br>
ã“ã‚Œã‚‚ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆã¨ã‚¹ã‚±ãƒ¼ãƒ«ã‚¤ãƒ³ãã‚Œãã‚Œè¨­å®šã™ã‚‹ã€‚<br>
ä»¥ä¸‹ã¯ã€</p>

<ul>
  <li>ã‚¢ãƒ©ãƒ¼ãƒ å : ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ demo00-test00-AddCapacity01ã€ã‚¹ã‚±ãƒ¼ãƒ«ã‚¤ãƒ³ demo00-test00-RemoveCapacity01</li>
  <li>ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹é …ç›® metric-name : CPUUtilization</li>
  <li>é©ç”¨ã‚µãƒ¼ãƒ“ã‚¹å namespace : AWS/EC2</li>
  <li>ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°å€¤ã®çµ±è¨ˆé …ç›® : Average</li>
  <li>ç›£è¦–é–“éš” : 60 (sec)</li>
  <li>é–¾å€¤ : ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ 90ã€ã‚¹ã‚±ãƒ¼ãƒ«ã‚¤ãƒ³ 40</li>
  <li>æ¤œå‡ºæ¡ä»¶ : GreaterThanOrEqualToThreshold (é–¾å€¤ã®å€¤ã¨ç­‰ã—ãã‚‚ã—ãã¯è¶…ãˆãŸæ™‚)</li>
  <li>ç›£è¦–å¯¾è±¡ dimensions : AutoScalingGroupName=demo00-test00-group00 (ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã‚°ãƒ«ãƒ¼ãƒ—å…¨ä½“ã«é©ç”¨ã—ã¦ã„ã‚‹ã®ãŒãƒã‚¤ãƒ³ãƒˆ)</li>
  <li>ã‚¢ãƒ©ãƒ¼ãƒ ã‚’å‡ºã™ã¾ã§ã«é€£ç¶šã§é–¾å€¤ã‚’è¶…ãˆãŸå›æ•° evaluation-periods : 2 (ã“ã®å ´åˆã€ç›£è¦–é–“éš”60 x 2 = 120secå¾Œã«ã‚¢ãƒ©ãƒ¼ãƒ ã‚’ç™ºç”Ÿã™ã‚‹)</li>
  <li>ã‚¢ãƒ©ãƒ¼ãƒ ç™ºç”Ÿæ™‚ã®å‡¦ç† :
    <ul>
      <li>ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ arn:aws:autoscaling:ap-northeast-1:910777643605:scalingPolicy:801eb489-69c7-4ecd-8b5c-60e7509c9dbf:autoScalingGroupName/demo00-test00-group00:policyName/demo00-test00-outpolicy00</li>
      <li>ã‚¹ã‚±ãƒ¼ãƒ«ã‚¤ãƒ³ arn:aws:autoscaling:ap-northeast-1:910777643605:scalingPolicy:801eb489-69c7-4ecd-8b5c-60e7509c9dbf:autoScalingGroupName/demo00-test00-group00:policyName/demo00-test00-outpolicy00</li>
      <li>(as-put-scaling-policy å‡ºåŠ›çµæœ)</li>
    </ul>
  </li>
  <li>ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ : ap-northeast-1 (Tokyo)</li>
</ul>

<p>ã¨ã—ãŸå ´åˆã®è¨­å®šæ–¹æ³•</p>

<p>namespace ã¯ AWS ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã ã¨ â€œAWS/EC2â€³ ã¨ãƒ€ãƒ–ãƒ«ã‚³ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§å›²ã£ã¦ã‚ã‚‹ãŒã€ã“ã‚Œã ã¨è¨­å®šã¯ã§ãã‚‹ãŒæŒ™å‹•æ™‚ã«ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦å‹•ä½œã—ã¦ãã‚Œãªã„ã€‚</p>

<pre class="brush: bash; title: ; notranslate" title="">$ mon-put-metric-alarm --alarm-name demo00-test00-AddCapacity01 --metric-name CPUUtilization --namespace=AWS/EC2 --statistic Average --period 60 --threshold 90 --comparison-operator GreaterThanOrEqualToThreshold --dimensions "AutoScalingGroupName=demo00-test00-group00" --evaluation-periods 2 --alarm-actions arn:aws:autoscaling:ap-northeast-1:910777643605:scalingPolicy:801eb489-69c7-4ecd-8b5c-60e7509c9dbf:autoScalingGroupName/demo00-test00-group00:policyName/demo00-test00-outpolicy00 --region ap-northeast-1

$ mon-put-metric-alarm --alarm-name demo00-test00-RemoveCapacity01 --metric-name CPUUtilization --namespace=AWS/EC2 --statistic Average --period 60 --threshold 40 --comparison-operator LessThanOrEqualToThreshold --dimensions "AutoScalingGroupName=demo00-test00-group00" --evaluation-periods 2 --alarm-actions arn:aws:autoscaling:ap-northeast-1:910777643605:scalingPolicy:0ce7a750-7fa1-46fc-a316-d2647013aa3f:autoScalingGroupName/demo00-test00-group00:policyName/demo00-test00-inpolicy00 --region ap-northeast-1
</pre>

<h2 id="ç¢ºèª">ç¢ºèª</h2>

<p>CloudWatch ã®è¨­å®šãŒæ­£ã—ãã§ãã¦ã„ã‚‹ã‹ mon-describe-alarms ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã™ã‚‹ã€‚</p>

<pre class="brush: bash; title: ; notranslate" title="">$ mon-describe-alarms --region ap-northeast-1 --headers
ALARM                           STATE  ALARM_ACTIONS                             NAMESPACE  METRIC_NAME     PERIOD  STATISTIC  EVAL_PERIODS  COMPARISON                     THRESHOLD
demo00-test00-AddCapacity01     OK     arn:aws:autoscalin...-test00-outpolicy00  AWS/EC2    CPUUtilization  60      Average    2             GreaterThanOrEqualToThreshold  90.0
demo00-test00-RemoveCapacity01  ALARM     arn:aws:autoscalin...0-test00-inpolicy00  AWS/EC2    CPUUtilization  60      Average    2             LessThanOrEqualToThreshold     40.0
</pre>

<p>é€šå¸¸ã®çŠ¶æ…‹ã§ã‚ã‚Œã° STATE é …ç›®ã§ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆãŒ OKã€ã‚¹ã‚±ãƒ¼ãƒ«ã‚¤ãƒ³ ãŒ ALARM ã«ãªã£ã¦ã„ã‚Œã°è‰¯ã„ã€‚ALARM ã¯ä»Šç¾åœ¨é–¾å€¤ã«å¼•ã£ã‹ã‹ã£ã¦ ALARM ã‚’å‡ºã—ã¦ã„ã‚‹ã¨ã„ã†çŠ¶æ…‹ã€‚INSUFFICIENT_DATA ã«ãªã£ã¦ã„ãªã‘ã‚Œã°ä½•ã‹è¨­å®šãŒãŠã‹ã—ã„ã¨ã„ã†ã“ã¨ã€‚</p>

<p>CloudWatch ã®ãƒ­ã‚°ã¯ mon-describe-alarm-history ã§è¦‹ã‚Œã‚‹ã€‚ã‚¢ãƒ©ãƒ¼ãƒ ã«å¼•ã£ã‹ã‹ã£ãŸã‚‚ã®ã‚„è¨­å®šã®æ›´æ–°ãŒæ™‚ç³»åˆ—ã«è¡¨ç¤ºã•ã‚Œã‚‹ã€‚</p>

<pre class="brush: bash; title: ; notranslate" title="">$ mon-describe-alarm-history --region ap-northeast-1
demo00-test00-RemoveCapacity01  2013-07-22T09:02:45.790Z  Action               Successfully executed action arn:aws:autoscaling:ap-northeast-1:910777643605:scalingPolicy:0ce7a750-7fa1-46fc-a316-d2647013aa3f:autoScalingGroupName/demo00-test00-group00:policyName/demo00-test00-inpolicy00
demo00-test00-RemoveCapacity01  2013-07-22T09:02:45.759Z  StateUpdate          Alarm updated from OK to ALARM
demo00-test00-RemoveCapacity01  2013-07-22T08:59:45.776Z  StateUpdate          Alarm updated from ALARM to OK
demo00-test00-RemoveCapacity01  2013-07-22T08:55:45.772Z  Action               Successfully executed action arn:aws:autoscaling:ap-northeast-1:910777643605:scalingPolicy:0ce7a750-7fa1-46fc-a316-d2647013aa3f:autoScalingGroupName/demo00-test00-group00:policyName/demo00-test00-inpolicy00
demo00-test00-RemoveCapacity01  2013-07-22T08:55:45.768Z  StateUpdate          Alarm updated from OK to ALARM
demo00-test00-AddCapacity02     2013-07-22T08:46:41.129Z  ConfigurationUpdate  Alarm "demo00-test00-AddCapacity02" deleted
demo00-test00-AddCapacity03     2013-07-22T08:46:33.759Z  ConfigurationUpdate  Alarm "demo00-test00-AddCapacity03" deleted
demo00-test00-AddCapacity05     2013-07-22T08:46:24.615Z  ConfigurationUpdate  Alarm "demo00-test00-AddCapacity05" deleted
demo00-test00-AddCapacity05     2013-07-22T08:43:21.129Z  StateUpdate          Alarm updated from ALARM to OK
demo00-test00-AddCapacity05     2013-07-22T08:42:21.092Z  StateUpdate          Alarm updated from OK to ALARM
demo00-test00-AddCapacity04     2013-07-22T08:41:07.031Z  ConfigurationUpdate  Alarm "demo00-test00-AddCapacity04" deleted
demo00-test00-AddCapacity05     2013-07-22T08:40:25.609Z  StateUpdate          Alarm updated from INSUFFICIENT_DATA to OK
demo00-test00-AddCapacity05     2013-07-22T08:40:24.983Z  ConfigurationUpdate  Alarm "demo00-test00-AddCapacity05" created
demo00-test00-AddCapacity04     2013-07-22T08:39:33.834Z  Action               Successfully executed action arn:aws:autoscaling:ap-northeast-1:910777643605:scalingPolicy:801eb489-69c7-4ecd-8b5c-60e7509c9dbf:autoScalingGroupName/demo00-test00-group00:policyName/demo00-test00-outpolicy00
demo00-test00-AddCapacity04     2013-07-22T08:39:33.815Z  StateUpdate          Alarm updated from INSUFFICIENT_DATA to ALARM
</pre>

<p>ã¾ãŸã€å®Ÿéš›ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®å€¤ã‚’è¦‹ãŸã„æ™‚ã¯ã€mon-get-stats ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã€‚</p>

<pre class="brush: bash; title: ; notranslate" title="">$ mon-get-stats CPUUtilization --region ap-northeast-1 --namespace AWS/EC2 --statistics Average --dimensions "AutoScalingGroupName=demo00-test00-group00"

(snip)

2013-07-23 00:22:00  25.615000000000002  Percent
2013-07-23 00:23:00  19.310000000000002  Percent
2013-07-23 00:24:00  23.115000000000002  Percent
2013-07-23 00:25:00  19.13               Percent
2013-07-23 00:26:00  23.505000000000003  Percent
2013-07-23 00:27:00  19.04               Percent
2013-07-23 00:28:00  15.985              Percent
2013-07-23 00:29:00  6.665               Percent
</pre>

<p>ã“ã‚Œã§ auto scaling group å…¨ä½“ã®å€¤ãŒç¢ºèªã§ãã‚‹ã€‚</p>

<p>è² è·ãƒ†ã‚¹ãƒˆã—ã¦å®Ÿéš›ã‚¹ã‚±ãƒ¼ãƒ«ã•ã›ã‚‹å ´åˆã¯ã€1ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã ã‘CPUä½¿ç”¨ç‡100ï¼…ã«ã—ã¦ã‚‚è¤‡æ•°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹èµ·å‹•ã—ã¦ã„ã‚‹å ´åˆã¯å¹³å‡ã§è¦‹ã‚‰ã‚Œã‚‹ã®ã§ã€ã‚¹ã‚±ãƒ¼ãƒ«ã—ãªã„ã€‚è¤‡æ•°ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§è² è·ã‚’ã‹ã‘ã¦ã€mon-get-stats ã®å€¤ãŒé–¾å€¤ã‚’è¶…ãˆãŸã‹ã©ã†ã‹ç¢ºèªã—ã¤ã¤ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒè‡ªå‹•çš„ã«èµ·å‹•ã•ã‚Œã‚‹ã‹è¦‹ã‚‹ã¨è‰¯ã„ã€‚</p>


</article>


    <div class="share-page">
<ul class="rrssb-buttons clearfix">
    <li class="rrssb-email">
    <!-- Replace subject with your message using URL Endocding: http://meyerweb.com/eric/tools/dencoder/ -->
        <a href="mailto:?subject=AWS%20%E3%82%AA%E3%83%BC%E3%83%88%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%AA%E3%83%B3%E3%82%B0%E8%A8%AD%E5%AE%9A%E6%96%B9%E6%B3%95%20%E2%80%93%202013%E5%B9%B4%E7%89%88%E5%AE%9F%E8%B7%B5%E7%B7%A8&amp;body=Check%20out:%20https://hirofukami.com/2013/07/23/aws-autoscaling-setting-2013/">
            <span class="rrssb-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 28 28"><path d="M20.11 26.147c-2.335 1.05-4.36 1.4-7.124 1.4C6.524 27.548.84 22.916.84 15.284.84 7.343 6.602.45 15.4.45c6.854 0 11.8 4.7 11.8 11.252 0 5.684-3.193 9.265-7.398 9.3-1.83 0-3.153-.934-3.347-2.997h-.077c-1.208 1.986-2.96 2.997-5.023 2.997-2.532 0-4.36-1.868-4.36-5.062 0-4.75 3.503-9.07 9.11-9.07 1.713 0 3.7.4 4.6.972l-1.17 7.203c-.387 2.298-.115 3.3 1 3.4 1.674 0 3.774-2.102 3.774-6.58 0-5.06-3.27-8.994-9.304-8.994C9.05 2.87 3.83 7.545 3.83 14.97c0 6.5 4.2 10.2 10 10.202 1.987 0 4.09-.43 5.647-1.245l.634 2.22zM16.647 10.1c-.31-.078-.7-.155-1.207-.155-2.572 0-4.596 2.53-4.596 5.53 0 1.5.7 2.4 1.9 2.4 1.44 0 2.96-1.83 3.31-4.088l.592-3.72z"></path></svg></span>
            <span class="rrssb-text">email</span>
        </a>
    </li>
    <li class="rrssb-facebook">
<!--  Replace with your URL. For best results, make sure you page has the proper FB Open Graph tags in header: https://developers.facebook.com/docs/opengraph/howtos/maximizing-distribution-media-content/ -->
        <a href="https://www.facebook.com/sharer/sharer.php?u=https://hirofukami.com/2013/07/23/aws-autoscaling-setting-2013/" class="popup">
            <span class="rrssb-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 29 29"><path d="M26.4 0H2.6C1.714 0 0 1.715 0 2.6v23.8c0 .884 1.715 2.6 2.6 2.6h12.393V17.988h-3.996v-3.98h3.997v-3.062c0-3.746 2.835-5.97 6.177-5.97 1.6 0 2.444.173 2.845.226v3.792H21.18c-1.817 0-2.156.9-2.156 2.168v2.847h5.045l-.66 3.978h-4.386V29H26.4c.884 0 2.6-1.716 2.6-2.6V2.6c0-.885-1.716-2.6-2.6-2.6z"></path></svg></span>
            <span class="rrssb-text">facebook</span>
        </a>
    </li>
    <li class="rrssb-twitter">
        <!-- Replace href with your Meta and URL information  -->
        <a href="https://twitter.com/intent/tweet?text=AWS%20%E3%82%AA%E3%83%BC%E3%83%88%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%AA%E3%83%B3%E3%82%B0%E8%A8%AD%E5%AE%9A%E6%96%B9%E6%B3%95%20%E2%80%93%202013%E5%B9%B4%E7%89%88%E5%AE%9F%E8%B7%B5%E7%B7%A8&amp;url=https://hirofukami.com/2013/07/23/aws-autoscaling-setting-2013/" class="popup">
            <span class="rrssb-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 28 28"><path d="M24.253 8.756C24.69 17.08 18.297 24.182 9.97 24.62a15.093 15.093 0 0 1-8.86-2.32c2.702.18 5.375-.648 7.507-2.32a5.417 5.417 0 0 1-4.49-3.64c.802.13 1.62.077 2.4-.154a5.416 5.416 0 0 1-4.412-5.11 5.43 5.43 0 0 0 2.168.387A5.416 5.416 0 0 1 2.89 4.498a15.09 15.09 0 0 0 10.913 5.573 5.185 5.185 0 0 1 3.434-6.48 5.18 5.18 0 0 1 5.546 1.682 9.076 9.076 0 0 0 3.33-1.317 5.038 5.038 0 0 1-2.4 2.942 9.068 9.068 0 0 0 3.02-.85 5.05 5.05 0 0 1-2.48 2.71z"></path></svg></span>
            <span class="rrssb-text">twitter</span>
        </a>
    </li>
    <li class="rrssb-linkedin">
        <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https://hirofukami.com/2013/07/23/aws-autoscaling-setting-2013/&amp;title=AWS%20%E3%82%AA%E3%83%BC%E3%83%88%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%AA%E3%83%B3%E3%82%B0%E8%A8%AD%E5%AE%9A%E6%96%B9%E6%B3%95%20%E2%80%93%202013%E5%B9%B4%E7%89%88%E5%AE%9F%E8%B7%B5%E7%B7%A8&amp;summary=AWS%20%E3%82%AA%E3%83%BC%E3%83%88%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%AA%E3%83%B3%E3%82%B0%E8%A8%AD%E5%AE%9A%E6%96%B9%E6%B3%95%20%E2%80%93%202013%E5%B9%B4%E7%89%88%E5%AE%9F%E8%B7%B5%E7%B7%A8" class="popup">
            <span class="rrssb-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewbox="0 0 28 28">
                    <path d="M25.424 15.887v8.447h-4.896v-7.882c0-1.98-.71-3.33-2.48-3.33-1.354 0-2.158.91-2.514 1.802-.13.315-.162.753-.162 1.194v8.216h-4.9s.067-13.35 0-14.73h4.9v2.087c-.01.017-.023.033-.033.05h.032v-.05c.65-1.002 1.812-2.435 4.414-2.435 3.222 0 5.638 2.106 5.638 6.632zM5.348 2.5c-1.676 0-2.772 1.093-2.772 2.54 0 1.42 1.066 2.538 2.717 2.546h.032c1.71 0 2.77-1.132 2.77-2.546C8.056 3.593 7.02 2.5 5.344 2.5h.005zm-2.48 21.834h4.896V9.604H2.867v14.73z"></path>
                </svg>
            </span>
            <span class="rrssb-text">linkedin</span>
        </a>
    </li>
    <li class="rrssb-googleplus">
        <a href="https://plus.google.com/share?url=https://hirofukami.com/2013/07/23/aws-autoscaling-setting-2013/" class="popup">
            <span class="rrssb-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24">
                    <path d="M21 8.29h-1.95v2.6h-2.6v1.82h2.6v2.6H21v-2.6h2.6v-1.885H21V8.29zM7.614 10.306v2.925h3.9c-.26 1.69-1.755 2.925-3.9 2.925-2.34 0-4.29-2.016-4.29-4.354s1.885-4.353 4.29-4.353c1.104 0 2.014.326 2.794 1.105l2.08-2.08c-1.3-1.17-2.924-1.883-4.874-1.883C3.65 4.586.4 7.835.4 11.8s3.25 7.212 7.214 7.212c4.224 0 6.953-2.988 6.953-7.082 0-.52-.065-1.104-.13-1.624H7.614z"></path>
                </svg>
            </span>
            <span class="rrssb-text">google+</span></a>
    </li>
    <li class="rrssb-pinterest">
        <a href="http://pinterest.com/pin/create/button/?url=https://hirofukami.com/2013/07/23/aws-autoscaling-setting-2013/&amp;description=AWS%20%E3%82%AA%E3%83%BC%E3%83%88%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%AA%E3%83%B3%E3%82%B0%E8%A8%AD%E5%AE%9A%E6%96%B9%E6%B3%95%20%E2%80%93%202013%E5%B9%B4%E7%89%88%E5%AE%9F%E8%B7%B5%E7%B7%A8"><span class="rrssb-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewbox="0 0 28 28">
                <path d="M14.02 1.57c-7.06 0-12.784 5.723-12.784 12.785S6.96 27.14 14.02 27.14c7.062 0 12.786-5.725 12.786-12.785 0-7.06-5.724-12.785-12.785-12.785zm1.24 17.085c-1.16-.09-1.648-.666-2.558-1.22-.5 2.627-1.113 5.146-2.925 6.46-.56-3.972.822-6.952 1.462-10.117-1.094-1.84.13-5.545 2.437-4.632 2.837 1.123-2.458 6.842 1.1 7.557 3.71.744 5.226-6.44 2.924-8.775-3.324-3.374-9.677-.077-8.896 4.754.19 1.178 1.408 1.538.49 3.168-2.13-.472-2.764-2.15-2.683-4.388.132-3.662 3.292-6.227 6.46-6.582 4.008-.448 7.772 1.474 8.29 5.24.58 4.254-1.815 8.864-6.1 8.532v.003z"></path>
            </svg></span><span class="rrssb-text">pinterest</span></a>
    </li>
</ul>
</div>



  <div class="py2 post-footer">
  <div class="center">
    <small class="center small">
      ğŸ˜Šã‚‚ã—ã“ã®è¨˜äº‹ãŒå½¹ã«ç«‹ã£ãŸãªã‚‰ã€ã‚³ãƒ¼ãƒ’ãƒ¼ä»£ã‚’ãŠé¡˜ã„ã—ã¾ã™â˜•ï¸
    </small>
    <div class="m1">
      <a href="https://buy.stripe.com/7sI17U2NJcRt1oc144" target="_blank">
        <div class="button button-blue">æŠ•ã’éŠ­ã™ã‚‹</div>
      </a>
    </div>
  </div>

  <hr class="m2">

  <div class="row">
    <div class="col-sm-2 col-sm-offset-3 text-center">
      <div class="auther-thumb">
        <a href="/">
          <img src="/images/hirofukami.jpg" alt="Hiro Fukami" class="img-circle">
        </a>
      </div>
    </div>
    <div class="col-sm-6 text-left">
      <p>
        <strong>ç­†è€…ã«ã¤ã„ã¦</strong><br>
        æ·±æµ·å¯›ä¿¡<br>
        ãµã‹ã¿ã²ã‚ã®ã¶ Hiro Fukami
      </p>
    </div>
  </div>

  <div class="py1">
    <small>
      è‡ªç¤¾ã‚µãƒ¼ãƒ“ã®é–‹ç™ºé‹ç”¨ã‚’ã—ã¤ã¤ã€ITã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºã®ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã€ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã€ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°ã€ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢è‚²æˆãªã©ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚<br>ä»Šã¾ã§ã®è·æ­´ã‚„ãŠä»•äº‹ã®å±¥æ­´ã¯<a href="/professional-career/">ã“ã¡ã‚‰(è·å‹™çµŒæ­´æ›¸)</a><br>ãŠä»•äº‹ã®ä¾é ¼ã‚„ç›¸è«‡ã¯ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰ãŠé€ã‚Šãã ã•ã„ã€‚<br>å†…å®¹ã‚’ç¢ºèªã®ä¸Šã€ãƒ¡ãƒ¼ãƒ«ã«ã¦ã”é€£çµ¡ã„ãŸã—ã¾ã™ã€‚
    </small>
  </div>
  <div class="center">
    <a href="/contact">
      <div class="button button-blue">
        ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ•ã‚©ãƒ¼ãƒ 
      </div>
    </a>
  </div>
</div>




  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname  = 'hirofukamisblog';
    var disqus_identifier = '/2013/07/23/aws-autoscaling-setting-2013';
    var disqus_title      = 'AWS ã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°è¨­å®šæ–¹æ³• &#8211; 2013å¹´ç‰ˆå®Ÿè·µç·¨';

    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>





  <h3 class="related-post-title">Related Posts</h3>
  
    <div class="post ml2">
      <a href="/2023/10/16/flutter-in-app-purchase/" class="post-link">
        <h4 class="post-title">Flutter in_app_purchase ã§å®šæœŸè³¼å…¥ã‚’å®Ÿç¾ã™ã‚‹æ–¹æ³• 2023å¹´ç‰ˆ</h4>
        <p class="post-summary"></p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2023/06/14/pep-buildup-UCL-final/" class="post-link">
        <h4 class="post-title">ãƒšãƒƒãƒ—ã®ãƒ“ãƒ«ãƒ‰ã‚¢ãƒƒãƒ— UEFA Champions League Final</h4>
        <p class="post-summary"></p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2023/03/08/tech-adviser/" class="post-link">
        <h4 class="post-title">ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼ä»•äº‹ãŒçµ‚ã‚ã£ãŸã®ã§ã¾ã¨ã‚</h4>
        <p class="post-summary"></p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2023/03/07/amazon-kinkdle-paperback/" class="post-link">
        <h4 class="post-title">Amazon ã§ Kindle ã¨ãƒšãƒ¼ãƒ‘ãƒ¼ãƒãƒƒã‚¯ã‚’ä½œã‚‹ã‚„ã‚Šæ–¹</h4>
        <p class="post-summary"></p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2023/03/06/permissible-older/" class="post-link">
        <h4 class="post-title">[æ€è€ƒ]è€ã„ã¸ã®è¨±å®¹</h4>
        <p class="post-summary"></p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2023/02/17/paper-back-your-startup/" class="post-link">
        <h4 class="post-title">ã€Œã²ã¨ã‚Šã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã€ãŒæœ¬ã®å½¢ã«ãªã‚Šã¾ã—ãŸ</h4>
        <p class="post-summary"></p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2022/12/31/2022review/" class="post-link">
        <h4 class="post-title">2022å¹´ã‚’æŒ¯ã‚Šè¿”ã‚‹</h4>
        <p class="post-summary"></p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2022/12/14/hardware-web/" class="post-link">
        <h4 class="post-title">ãƒãƒ¼ãƒ‰ã‚¦ã‚¨ã‚¢ã®WebåŒ–</h4>
        <p class="post-summary"></p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2022/12/12/book-your-starup/" class="post-link">
        <h4 class="post-title">æœ¬ã‚’æ›¸ãã¾ã—ãŸã€Œã²ã¨ã‚Šã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã€</h4>
        <p class="post-summary"></p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2022/11/15/start-service-policy/" class="post-link">
        <h4 class="post-title">è‡ªåˆ†ã§ã¯ãªã„ä»–ã®èª°ã‹ã®ãŸã‚ã«ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½œã‚‹</h4>
        <p class="post-summary"></p>
      </a>
    </div>
  


    </div>
  </div>
</div>

<footer class="center">
  <div class="measure">
    <small>
			<div class="row">
				<div class="col-sm-2 col-sm-offset-3 text-center">
          <div class="auther-thumb">
            <a href="/">
              <img src="/images/hirofukami.jpg" alt="Hiro Fukami" class="img-circle">
            </a>
          </div>
				</div>
				<div class="col-sm-4 text-left text-muted">
          <div class="short-profile">
		        <b>Hiro Fukami</b><br>
            <a href="https://twitter.com/d_sea" target="_blank">@d_sea</a>. Business Starter and Engineer in Tokyo.
					Founder and CEO of <a href="https://players1.st" target="_blank">Players1st inc.</a> See more about me <a href="/about">here</a>.
          </div>
				</div>
			</div>

			<br>

			Copyright Â© 2023
			
			    Hiro Fukami
			
    </small>
  </div>
</footer>



</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.0.0/mermaid.min.js"></script>
<script>
   mermaid.initialize({
       startOnLoad:true,
       theme: 'default'
   });
   window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid'));
</script>
</html>
