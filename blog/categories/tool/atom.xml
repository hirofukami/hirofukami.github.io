<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Tool | Hiro Fukami's Blog]]></title>
  <link href="http://hirofukami.com/blog/categories/tool/atom.xml" rel="self"/>
  <link href="http://hirofukami.com/"/>
  <updated>2015-08-06T18:45:01+09:00</updated>
  <id>http://hirofukami.com/</id>
  <author>
    <name><![CDATA[HiroFukami]]></name>
    <email><![CDATA[dee.sea@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[そして Vichrome から Vimperator に戻った]]></title>
    <link href="http://hirofukami.com/blog/2014/04/04/chrome-to-firefox/"/>
    <updated>2014-04-04T09:00:00+09:00</updated>
    <id>http://hirofukami.com/blog/2014/04/04/chrome-to-firefox</id>
    <content type="html"><![CDATA[<p>過去に <a href="http://hirofukami.com/2014/02/04/firefox-vimperator-vs-chrome-vichrome/">Firefox + Vimperator から Chrome + Vichrome に乗り換えた</a> というポストを書いたのだけど、あれから2ヶ月もたたないうちに Vimperator に戻りました。</p>

<p><img src="http://teramako.github.io/doc/browser-workshop-20101127/vimperator-logo.png" alt="Vimperator" /></p>

<p>Chrome 短い間だったけどありがとう。Frirefox 離れてみて君の良さがわかったよ。ただいま。</p>

<p>理由は単純。体感的に Vichrome の不満点が大きくて、Vimperator の方がレスポンスが良く気持よく使えると感じたから。</p>

<h1>Vichrome の不満点</h1>

<h2>デフォルトの処理待ちの遅さ</h2>

<p>たとえば <code>d</code> キーを押してタブを閉じる動作をする時は、そのページの読み込みが終わっていないと動作しない。間違えて開いてしまったタブをすぐ閉じたい時もページの読み込みが終わるまで動作をしてくれないので、待ちが発生する。</p>

<p>タブを閉じた時の動作も同じで、最後に選択していたタブにフォーカスさせる設定も、Chrome のデフォルト動作である最終タブ(右端)にいったんフォーカスしてから、Vichrome が最後に選択していたタブにフォーカスを変えるという動作をしていることが見てわかる。</p>

<p>強制的に新しいウインドウではなくタブで開く動作も、一度ウインドウが開く => 閉じる => タブで新たに開く。という動作をしているのを見るはめになり非常にストレスを感じる。</p>

<p>これだと先回りしてキーを押す流れを描いてサクサク操作することができないので、ストレスになる。</p>

<h2>タブ周りの設定が少ない</h2>

<p><code>u</code> キーで直近で閉じたタブを開く場合、Vimperator だとそのタブの回覧履歴も残っているので、<code>u</code> 押して、<code>Shift + h</code> で一つ前に見ていたページに戻るみたいなことができるけど、Vichrome だと回覧履歴の復元まではやってくれない。</p>

<p>間違えて閉じてしまった時のリカバリーとしては履歴が残っていないのは痛い。</p>

<p>基本的にタブ周りの設定項目が少なく Firefox Tab Mix Plus のようなことができない。デザイン周りはそんなに気にしないけど動作に関わる設定が少ないのは操作性に関わるからきつい。</p>

<h2>根本原因は Chrome の設計思想</h2>

<p>Vichrome が Chrome をコントロールできる権限はデフォルト設定より低いみたいで、デフォルトの動作待ちが発生しやすいのだと思う。</p>

<p><code>Chrome 本体 &gt; デフォルトのセッティング &gt; Vichrome (extensions)</code></p>

<p>Vichrome 的にはデフォルト動作が終わってからそれを修正するというスタンスになる。</p>

<p>Firefox の Extensions はデフォルトの設定と同等で設定内容を書き換えることができるくらい高い権限を持っていると思う。</p>

<p><code>Firefox 本体 &gt; デフォルトの設定 = Vimperator (extensions)</code></p>

<p>Chrome が extensions に対して権限を与え過ぎないという考え方からくることなので、これは Chrome の設計思想を変えない限りどうにもならないのではと思っている。</p>

<!--more-->


<h1>Vimperator でよくなった点</h1>

<h2>最初のフォームにフォーカスできるショートカットキーができた</h2>

<p>主に Google や Amazon の検索キーワードを入れる部分に素早くフォーカスしたい時に使います。</p>

<p>Vichrome では <code>i</code> キーがそうだったのですが、Vimperator はなかったので、<code>f</code> でリンク先を選んで選択肢てフォーカスさせるという手順を踏む必要がありました。</p>

<p>いつの間にか <code>gi</code> でそのページの最初にあるフォームにフォーカスされるようになりました。</p>

<p>たまたま違うことを調べていた時に StackOverflow の回答に書いてあったのですが、いつから使えるようになっていたのかは知らないのですが、こういう情報はどこで仕入れればいいのだろう。</p>

<h2>ignorekeys が使えるようになった</h2>

<p>Twitter, Gmail, Freedly とかサービス側のキーボードショートカットを使いたいので、今までは Vimperator プラグインの FeedSomeKeys を使っていました。</p>

<p>Vimperator 側から見てそのURLに対して exclude するキーをあらかじめ設定しておく方法です。
ただ、使いたいショートカットを記述する方法は大量に記述する必要があってちょっとめんどいと思っていました。</p>

<p>知らない間に Vimperator に ignorekeys という機能が増えていて、これで解決することができています。
これはサービス側から見て exclude する Vimperator のキーを登録するので、FeedSomeKeys とは逆の設定の仕方になります。</p>

<p>サービス側のキーは全部使いたくて、Vimperator のキーは必ず使いたいキーはそんなに多くないので、ignorekeys の方がマッチします。</p>

<p>コマンドラインモード(:)にして、</p>

<p><code>ignorekeys add mail.\google\.com -except keys :,d,t,&lt;C-p&gt;,&lt;C-n&gt;,gi,&lt;S-j&gt;,&lt;S-k&gt;,&lt;S-h&gt;,&lt;S-l&gt;,y,f,&lt;S-f&gt;</code></p>

<p>みたいに設定しています。</p>

<h2>Evernote Clearly でブックマーク</h2>

<p><img src="http://evernote.com/media/img/products/hero_clearly.png" alt="Evernote Clearly" /></p>

<p>はてブに代えて Evernote にURLブックマークしているのですが、Vichrome では Evernote Web Clipper がキーマップも生かしつつショートカットキーでさくっとブックマークできて、重宝していました。</p>

<p>Firefoxの extensions の Evernote Web Clipper はショートカットキーが提供されていなかったのですが、Evernote から別の extension である <a href="https://addons.mozilla.org/en-US/firefox/addon/clearly/">Clearly</a> が提供されていました。
これは簡易ビューをつくって Evernote に保存してくれ、ショートカットキーも用意されています。もちろん URL も含んで。</p>

<p>操作としては、</p>

<ol>
<li><code>i</code> キーでignoreモードにして</li>
<li><code>Ctrl + Command + s</code> でクリップ、Evernote に保存</li>
<li><code>i</code> キーでignoreモード終了</li>
<li><code>d</code> キーでタブ閉じる</li>
</ol>


<p>みたいな流れで、マウスを使うことなくキー操作だけでブックマーク出来るようになりました。</p>

<h2>.vimperatorrc</h2>

<p>ということで、Firefox + Vimperator に戻りました。</p>

<p>ついでに、今使っている Vimperator の .vimepratorrc を gist にあげました。
プラグイン設定で FeedSomeKeys の設定が書かれていますが、ignorekeys の設定をしているので実質的に使っていません。主にキーマップだけの設定になっています。</p>

<p><strong><a href="https://gist.github.com/d-sea/ca08b0cb765f9a255d26">GitHub Gist vimperatorrc</a></strong></p>

<p><div><script src='https://gist.github.com/ca08b0cb765f9a255d26.js'></script>
<noscript><pre><code>&quot; Hiro Fukami&#39;s Vimperatorrc

&quot;------------------------+
&quot; 基本設定
&quot;+-----------------------+

&quot;メニュー/ツール/リンクを表示
set toolbars=addons
&quot;ページ全体で検索語を強調表示
set hlsearch
set ignorecase
&quot;ビープ音を鳴らさずビジュアルベルを使用
set visualbell

set complete=S
set focuscontent

let g:ex_ime_mode = &quot;inactive&quot; 
let g:textarea_ime_mode = &quot;inactive&quot; 

&quot;+------------------------+
&quot; キーマップ設定
&quot;+------------------------+

&quot;j/kの移動量を7倍に
map j 7&lt;C-e&gt;
map k 7&lt;C-y&gt;
&quot;&lt;BS&gt;で「戻る」
map &lt;BS&gt; H
map &lt;S-j&gt; &lt;C-p&gt;
map &lt;S-k&gt; &lt;C-n&gt;
&quot;&lt;S-Left&gt;/&lt;S-Right&gt;で現在のタブの位置変更
map &lt;S-Left&gt;  :tabmove! -1&lt;CR&gt;
map &lt;S-Right&gt; :tabmove! +1&lt;CR&gt;

map @ :sp -b &lt;S-Insert&gt;&lt;CR&gt;
map ^ :sp -r &lt;S-Insert&gt;&lt;CR&gt;

map c :history! 
map s :stop
map d &lt;M-w&gt;

map gf :t http://facebook.com&lt;CR&gt;
map gl :t http://gmail.com&lt;CR&gt;
map gm :t https://www.facebook.com/messages&lt;CR&gt;
map gn :t https://www.facebook.com/notifications&lt;CR&gt;
map gt :t http://www.twitter.com&lt;CR&gt;
map ga :t http://www.amazon.co.jp&lt;CR&gt;
map gr :t http://www.rakuten.co.jp&lt;CR&gt;
map gw :t http://console.aws.amazon.com/ec2/home&lt;CR&gt;


&quot;+------------------------+
&quot; プラグイン設定
&quot;+------------------------+

command calc -nargs=* echo JSON.parse(util.httpGet(&quot;http://suggestqueries.google.com/complete/search?client=firefox&amp;hl=ja&amp;q=&quot;+encodeURIComponent(&quot;&lt;args&gt;&quot;)).responseText)[1].filter(function(r) r.indexOf(&quot;=&quot;) == 0)[0].replace(&quot;= &quot;,&quot;&quot;)

&quot; .vimperatorrcを再読み込み
map &lt;C-r&gt; :source ~/.vimperatorrc&lt;CR&gt;

let g:direct_sbm_use_services_by_tag = &quot;h&quot;
let g:direct_sbm_use_services_by_post = &quot;h&quot; 

&quot;For FeedSomeKeys_3.js plugin
&quot; autocmd VimperatorEnter .* &lt;args&gt; を lazy コマンドとして登録
&quot;command! -nargs=+ lazy autocmd VimperatorEnter .* &lt;args&gt;
&quot;Gmail
lazy fmaps -urls=&#39;mail\.google\.com/mail&#39; c / j k n p o u e x s r a # [ ] z ? gi gs gt gd ga gb gc gl b &lt;S-i&gt; &lt;C-h&gt; &lt;C-Enter&gt;

&quot;Google Calendar
lazy fmaps -urls=&#39;www\.google\.com/calendar&#39; -events=vkeydown k j r t d w m c &lt;Del&gt; / + q s ?

&quot;Google Docs
lazy fmaps -urls=&#39;docs\.google\.com/&#39; &lt;Del&gt; &lt;C-x&gt; &lt;C-d&gt; &lt;C-v&gt; &lt;C-c&gt; &lt;C-y&gt; &lt;C-z&gt; &lt;C-a&gt; 

&quot;Feedly
lazy fmaps -urls=&#39;feedly\.com/&#39; gm ga gg r j k n p o v m x s e t ? &lt;S-m&gt;

set hintchars=hjklasdfgyuiopqwertnmzxcvb
hi Hint z-index:5000; font-size:12px; color:white; background-color:gray; border-color:lightgray; border-width:2px; border-style:solid; padding:0px 2px 0px 2px; position:absolute; font-family: Menlo, Consolas, Monaco, monospace; text-transform: uppercase;

&quot; 最後に読み込み完了を表示
echo &quot;###  Finish loading vimperatorrc.  ###&quot;</code></pre></noscript></div>
</p>

<p><a href="https://github.com/vimpr/vimperator-plugins">Vimperator プラグインの Github</a> を見ると、更新も止まっているしコミットのコメントも何ともな感じなので、Vimperator プラグインは使わないようにしています。</p>

<p>ちなみに本家 <a href="https://addons.mozilla.org/ja/firefox/addon/vimperator/versions/">Vimperator のバージョン履歴</a> を見るに一定のペースでリリースが続けられています。</p>

<h2>入れている Firefox Extensions</h2>

<p>入れては消してを繰り返して最近は少なめにしています。</p>

<p><img src="/images/20140402-firefox-extensions.png" alt="firefox-extensions" /></p>

<h2>Vimperator のわからないところ</h2>

<p>使っている歴は長いのですが、まだまだ使いこなせていないところやどうやっていいかわからない点があるので、どなたか教えていただければです。</p>

<ul>
<li>EMBED モードからキーを押して抜けたい

<ul>
<li>現状はどこか支障のなさそうな部分をクリックして抜けている</li>
</ul>
</li>
</ul>


<p>どなたかの何らかのお役に立てればです。では、快適なブラウジングライフを〜</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Firefox + Vimperator から Chrome + Vichrome に乗り換えた]]></title>
    <link href="http://hirofukami.com/2014/02/04/firefox-vimperator-vs-chrome-vichrome/"/>
    <updated>2014-02-04T19:24:36+09:00</updated>
    <id>http://hirofukami.com/2014/02/04/firefox-vimperator-vs-chrome-vichrome</id>
    <content type="html"><![CDATA[<p>PCの操作上でブラウザを使う時間はかなりを占めるし、あらゆるサービスが使うことができるようになって、ますますその割合は増えていっている。<br/>
ということで、ブラウザ操作を効率的に行うのはパフォーマンスをよく保つのに結構重要だと思っている。</p>

<h2>Vimperaor</h2>

<p><a href="https://addons.mozilla.org/en-US/firefox/addon/vimperator/"><img src="http://teramako.github.io/doc/browser-workshop-20101127/vimperator-logo.png?w=830" alt="vimperator" data-recalc-dims="1" /></a></p>

<p>5年前くらいに Vimperator の存在を教えてもらって、それ以来ずっと使いづづけている。</p>

<p>Vimperator は vi のようにあらゆる作業をキーボードで行えてカスタマイズ性も高い。マウス操作に時間が取られずに快適に操作ができていた。</p>

<p>y キーで現在開いているページのURLをコピー、p でコピーしたものをURLに貼り開くとか、の操作方法が可能。</p>

<h2>Chrome に乗り換え</h2>

<p>この度、6年ぶりくらいに普段使うブラウザをかえてみた。</p>

<p>Firefox + Vimperator から Chrome + Vichrome に移行しました。</p>

<p><a href="https://chrome.google.com/webstore/detail/vichrome/gghkfhpblkcmlkmpcpgaajbbiikbhpdi?hl=en"><img src="http://3.bp.blogspot.com/-znVUKjoHsnw/ToMAQ9EvSTI/AAAAAAAAAHE/2yH3d7trWhg/s1600/128.png?w=830" alt="vichrome" data-recalc-dims="1" /></a></p>

<p>途中 Safari の Extensions でも Vimperatorのようなものを入れて試してみたけど、機能が少ないので Firefox に戻った経緯もあるが、今回の Chrome + Vichrome 自分が使う範囲の機能はほぼカバーしているので使い続けている。</p>

<p>Vichrome の設定内容はこんな感じ。</p>

<!--more-->


<p><noscript>
  <pre><code class="language- ">### Hiro Fukami&rsquo;s Settings</p>

<h1>aliases</h1>

<h1>in this example you can open extensions page by the command &lsquo;:ext&rsquo;</h1>

<h1>and Chrome&rsquo;s option page by the command &lsquo;:option&rsquo;</h1>

<p>alias ext TabOpenNew chrome://extensions/
alias option TabOpenNew chrome://settings/browser
alias downloads TabOpenNew chrome://downloads
alias history TabOpenNew chrome://history</p>

<h1>mappings for opening your favorite web page</h1>

<p>nmap gf :TabOpenNew <a href="http://www.facebook.com">http://www.facebook.com</a>
nmap gm :TabOpenNew <a href="https://www.facebook.com/messages">https://www.facebook.com/messages</a>
nmap gn :TabOpenNew <a href="https://www.facebook.com/notifications">https://www.facebook.com/notifications</a>
nmap gt :TabOpenNew <a href="http://www.twitter.com">http://www.twitter.com</a>
nmap ga :TabOpenNew <a href="http://www.amazon.co.jp">http://www.amazon.co.jp</a>
nmap gr :TabOpenNew <a href="http://www.rakuten.co.jp">http://www.rakuten.co.jp</a></p>

<h1>nmap gr :TabOpenNew <a href="http://www.google.com/reader">http://www.google.com/reader</a></h1>

<h1>nmap gm  :TabOpenNew <a href="https://mail.google.com/mail/#inbox">https://mail.google.com/mail/#inbox</a></h1>

<h1>F for continuous f-Mode</h1>

<h1>this is recomended setting but commented out by default.</h1>

<h1>if you want to use this setting, use the following</h1>

<h1>nmap F :GoFMode &mdash;newtab &mdash;continuous</h1>

<h1>you can use &lt;DISCARD&gt; to discard the key so that chrome&rsquo;s default</h1>

<h1>action isn&rsquo;t triggered.</h1>

<h1>nmap &lt;BS&gt; &lt;DISCARD&gt;</h1>

<h1>if you want to change the key used to escape EmergencyMode mode,</h1>

<h1>use emap like the following</h1>

<h1>emap &lt;ESC&gt; :Escape</h1>

<h2>pagecmd offers you page specific key mapping.</h2>

<h1>in this example you can use &lt;C-l&gt;, &lt;C-h&gt; for moving between tabs</h1>

<h1>on all web pages regardless of your ignored list setting</h1>

<h1>because pagecmd has higher priority than ignored URLs.</h1>

<p>pagecmd * nmap K :TabFocusNext
pagecmd * nmap J :TabFocusPrev
pagecmd * nmap d :TabCloseCurrent
pagecmd * nmap y :copyurl</p>

<h1>almost all Vichrome functions don&rsquo;t work properly for pdf contents</h1>

<h1>so it&rsquo;s useful to enable default key bindings for pdf file.</h1>

<p>pagecmd *.pdf nmap &lt;C-f&gt; &lt;NOP&gt;</p>

<h1>if you want to use twitter web&rsquo;s key binding, write settings like below</h1>

<h1>pagecmd http<em>://twitter.com/</em> nmap f &lt;NOP&gt;</h1>

<h1>pagecmd http<em>://twitter.com/</em> nmap r &lt;NOP&gt;</code></pre></h1>

<p></noscript></p>

<h2>ブックマークをEvernoteで管理へ</h2>

<p><a href="http://evernote.com/webclipper/"><img src="http://evernote.com/media/img/products/hero_webclipper.png?w=830" alt="evernote web clipper" data-recalc-dims="1" /></a></p>

<p>ブラウザを変えようと思った理由は些細なことだけど、ブックマークをはてなブックマークからEvernoteに乗り換えようと思ったことがきっかけ。</p>

<p>ブラウザで開いているものをEvernoteに貼りたい場合は Evernote Web Clipper が提供されているけど、Firefox Add-ons の Evernote Web Clipper はキーボードショートカットが設けられていないし、機能的にも足りない。</p>

<p>ブックマークしたいサイトを開いていたらキーボードショートカットだけで保存操作が完了して欲しい。<br/>
今までは Firefox のはてなブックマーク Add-ons でキーボードだけで実現できた。<br/>
control + shift + b で保存ウインドウが立ち上がって、タブ入力にフォーカスされているからそのままタグを指定して、Enterキーで保存。という具合。</p>

<p>Chrome Extension の Evernote Web Clipper にはキーボードショートカットが設けられていて、しかも保存するレイアウトに Bookmark が選択できて Evernote 上で見るのにも最適。保存先のノートブックやタグがあらかじめ指定できるのも良い。</p>

<p>&#8216; キーでブックマークサイドバーが出て、Enterキーを押せば保存完了。ただ、タグを追加したい時はマウスでタグ欄をクリックしないといけない。</p>

<h2>Vichrome 使ってみてメモ</h2>

<p>一応、Chrome + Vichrome で使えているが、ちょっと今までに比べイマイチな点もあるのでメモっておく。</p>

<ul>
<li>Vichrome のキーボードショートカットで指定したものの動作は Chrome のデフォルトより優先度が低いので、デフォルトの挙動が起きた後にアクションされるので待ちが出る

<ul>
<li>新しいタブが開いて読み込んでいる最中にタブの移動ができずに、読み込みが終わらないと操作できない</li>
</ul>
</li>
<li>タブの設定が Chrome デフォルトだとできない

<ul>
<li>新しいウィンドウが開く動作でも全てタブで開くとタブを閉じたら最後に選択していたタブを表示するという設定を Firefox Tab Mix Plus で行っていた</li>
<li>Tab Position Extensions で行えるけど、ムダな動作があるのと見ていてストレスになる</li>
<li>一度 Chrome のデフォルト動作の最後のタブが表示されてから、動作して選択していたタブに表示が切り替わる</li>
<li>一度 新しいウィンドウが開いてから、それが閉じられてタブで開かれる</li>
</ul>
</li>
</ul>


<p>まぁ、全ては Chrome の Extensions に対するAPIの開放具合がもたらすストレスなのだけど。<br/>
その点 Firefox は Add-on に対してかなり深いというよりデフォルト動作を上書きできるくらい深い部分まで開放している。</p>

<p>完全オープンソースな Firefox と、やっぱりコントロールしたい Chrome のスタンスの違いが見れて面白い。</p>

<p>しばらくは Chrome で行ってみるけど、Evertnote Web Clipper が Chrome Extensions 並になったらまた戻ってしまうかも。</p>
]]></content>
  </entry>
  
</feed>
