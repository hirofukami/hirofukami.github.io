
<!DOCTYPE HTML>
<html>
<head>
	<script data-cfasync="false" type="text/javascript" src="//use.typekit.net/axj3cfp.js"></script>
	<script data-cfasync="false" type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<meta charset="utf-8">
	<title>My Life Log on Octopress  | Hiro Fukami's Blog</title>

<meta name="author" content="HiroFukami"> 

<meta name="description" content="おそらく7年前から毎年、INTEROP に行っている。やはりネットワークに関する最大級の見本市だし、web 全盛の前時代はネットワークがコアテクノロジだった訳で行くのは必須くらいなものだった。 しかし、最近は web 開発の時代になってネットワークはあって当たり前なものにますます位置づけられて、 &hellip;"> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Hiro Fukami's Blog" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/favicon.png" rel="shortcut icon">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/javascript" src="/javascripts/jquery.fancybox.pack.js"></script>

<script language="Javascript" type="text/javascript">
$(document).ready(
  function() {
    (function($) {
      $(".fancybox[data-content-id]").each(function() {
        this.href = $(this).data('content-id');
      });
      $(".fancybox").fancybox({
        beforeLoad: function() {
          var el, 
              id = $(this.element).data('title-id');

          if (id) {
            el = $('#' + id);

            if (el.length) {
              this.title = el.html();
            }
          }
          if ($(this).data('content')) {
            this.content = $(this).data('content');
          }
        },
        helpers: {
          title: {
            type: 'inside'
          }
        }
      });
    })(jQuery);
  }
);
</script>

	
	<meta property="twitter:card" content="summary" />
    <meta property="twitter:site" content="d_sea">
    <meta property="twitter:url" content="http://hirofukami.com">
    <meta property="twitter:title" content="Hiro Fukami's Blog">
    <meta property="twitter:description" content="おそらく7年前から毎年、INTEROP に行っている。やはりネットワークに関する最大級の見本市だし、web 全盛の前時代はネットワークがコアテクノロジだった訳で行くのは必須くらいなものだった。 しかし、最近は web 開発の時代になってネットワークはあって当たり前なものにますます位置づけられて、新しい技術も生まれることなく高速化だけがホットトピックスになる状況だった。 &hellip;">
    <meta property="twitter:creator" content="d_sea" />


</head>


<body>
	<header id="header" class="inner"><h1><a href="/">Hiro Fukami's Blog</a></h1>
<h4>My Life Log on Octopress</h4>
<nav id="main-nav"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/portfolio">Portfolio</a></li>
	<li><a href="/archives">Archive</a></li>
	<li><a href="/atom.xml">RSS</a></li>
    
	<li>
        <form action="http://google.com/search" method="get">
            <input type="text" name="q" results="0" placeholder="Search">
            <input type="hidden" name="as_sitesearch" value="hirofukami.com">
        </form>
	</li>
    
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/portfolio">Portfolio</a></li>
	<li><a href="/archives">Archive</a></li>
	<li><a href="/atom.xml">RSS</a></li>
    
	<li>
        <form action="http://google.com/search" method="get">
            <input type="text" name="q" results="0" placeholder="Search">
            <input type="hidden" name="as_sitesearch" value="hirofukami.com">
        </form>
	</li>
    
</ul>
</div>
	</div>
<!-- 	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:hirofukami.com">
			</form>
		</div>
	</div> -->
</nav>

</header>

	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/2009/06/10/interop-tokyo-2009/">
		
			INTEROP Tokyo 2009 に行ってきました もうネットワークは完全に成熟産業化したと思った</a>
	</h2>
	<div class="entry-content">
		<div class="section">
  <p>
    <a href="http://f.hatena.ne.jp/d_sea/20090611134602" class="hatena-fotolife" target="_blank"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/d/d_sea/20090611/20090611134602.jpg?w=830" alt="f:id:d_sea:20090611134602j:image" title="f:id:d_sea:20090611134602j:image" class="hatena-fotolife" data-recalc-dims="1" /></a>
  </p>
  
  <p>
    <a href="http://f.hatena.ne.jp/d_sea/20090611134619" class="hatena-fotolife" target="_blank"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/d/d_sea/20090611/20090611134619.jpg?w=830" alt="f:id:d_sea:20090611134619j:image" title="f:id:d_sea:20090611134619j:image" class="hatena-fotolife" data-recalc-dims="1" /></a>
  </p>
  
  <p>
    <a href="http://f.hatena.ne.jp/d_sea/20090611134624" class="hatena-fotolife" target="_blank"><img src="http://cdn-ak.f.st-hatena.com/images/fotolife/d/d_sea/20090611/20090611134624.jpg?w=830" alt="f:id:d_sea:20090611134624j:image" title="f:id:d_sea:20090611134624j:image" class="hatena-fotolife" data-recalc-dims="1" /></a>
  </p>
  
  <p>
    おそらく7年前から毎年、INTEROP に行っている。やはりネットワークに関する最大級の見本市だし、web 全盛の前時代はネットワークがコアテクノロジだった訳で行くのは必須くらいなものだった。
  </p>
  
  <p>
    しかし、最近は web 開発の時代になってネットワークはあって当たり前なものにますます位置づけられて、新しい技術も生まれることなく高速化だけがホットトピックスになる状況だった。衰退ぶりが実感できたのは展示ホールの広さで、ここ最近は年々縮小していて、7年前は1～8ホールまですべて埋まっていたのに、3年前では6ホール分に減っていた。
  </p>
  
  <p>
    今年はどうなのだろう？レイヤの上の方に幅を広げてきた自分にとっては、最近のネットワークだけの状況はあまり分からないながらも、このイベントの変化が現状を知る良い機会だと思って行ってみた。
  </p>
  
  <p>
    なんと、今年は展示ホールは3ホール分。IMC や RSA など付属的な展示物を含めて3ホール分しか展示されていない。あー、ついにここまで来たのだなと現実を実感する。
  </p>
  
  <p>
    確実にネットワークの産業は成熟化したと言っていい。新しいイノベーションは非常に起きにくくなっているし、高速化へ邁進するプレイヤーは体力のある一部のルータメーカにしぼられた。レイヤ1～4の幅の中での新しいことはほとんどなくなっている。
  </p>
  
  <p>
    なぜかというと、
  </p>
  
  <ul>
    <li>
      高速化してもその帯域を必要としているところはごく一部であり、おおむね 1Gbps の物理帯域があれば十分なところがほとんど
    </li>
    <li>
      標準化によって異メーカ間接続が可能になり、つなぐことに関しては安定性、信頼性が高い環境が提供しやすい
    </li>
    <li>
      ネットワーク機器を使う人たちのノウハウが時間とともにたまり、新しい技術や機器を習得しなくてもすんでしまう環境がある
    </li>
    <li>
      ネットワークのレイヤで制御できることは非常に少なく、ソフトウエア側のアプローチでレイヤの高い部分も網羅した制御プロトコルやミドルウエアが多く開発されている
    </li>
  </ul>
  
  <p>
    という状況があるからかと思っている。
  </p>
  
  <p>
    展示をいくつか見て気づいたことメモ
  </p>
  
  <ul>
    <li>
      Cisco が展示を出していなかった</p> <ul>
        <li>
          みんなが知っている存在になっているし、もうネットワーク業界にブランドを提示する必要はないからか
        </li>
        <li>
          サーバに進出していることよりネットワークはもうOKと判断しているのかも
        </li>
      </ul>
    </li>
    
    <li>
      人だかりが割とできていたところ <ul>
        <li>
          Palo Alto Networks&#160;: L4レベルどまりでなく、アプリケーションの振る舞いを可視化して制御する Firewall 製品を提供している
        </li>
        <li>
          TippingPoint&#160;: 不正侵入や攻撃、ハッキングを防御する製品を提供している
        </li>
        <li>
          ネットワークレイヤを超えてくるものまたは単純なセキュリティ機能からトレンドを追うような動的な制御を行う製品が注目されている
        </li>
      </ul>
    </li>
    
    <li>
      Juniper の 100G FPC の展示を興味深く見る人がほとんどいなかった <ul>
        <li>
          高速化の興味を持つ人が少なくなったのか
        </li>
        <li>
          そもそも Juniper の FPC を使うような大きめなルータを使う人が少なく気づかなかったのか
        </li>
      </ul>
    </li>
  </ul>
  
  <h4>
    クラウドコンペを見て
  </h4>
  
  <p>
    今年の INTEROP に行く目的のもう一つはクラウドコンペの発表内容を聞くためだった。クラウドについてすでに取り組んでいる人たちがどんなことを実際行っているのか、どんなアイデアを持っているのか非常に興味を持って聞きに行った。
  </p>
  
  <p>
    実際は全10ある中の2つのプレゼンテーションしか聞くことができなかったが、その2つはクラウドというよりかはクラウドに無理矢理こぎつけて、独自のネットワークの距離を測ったり、MapReduce のようなすでにあるものを使ってちゃんと動きました的な内容を発表していた。おそらくこのコンペに合わせてというよりかは今まで研究、検証してきた内容を発表する機会として発表者は利用したのかと思う。
  </p>
  
  <p>
    発表内容のレポートはすべてではないが <a href="http://itpro.nikkeibp.co.jp/article/COLUMN/20090617/331953/" target="_blank">IT Pro の記事</a> にまとまっている。
  </p>
  
  <p>
    そいういう意味では優勝チームの発表は是非聞いてみたかったが、内容を見るに自分たちでクラウドを作るためのアーキテクチャを確立し、開発したという点で真正面からクラウドに取り組んだ結果だけに優勝は当然かと思った。
  </p>
  
  <p>
    期待して聞きにいってみたが、クラウドに対して真っ正面から取り組んでいるプレイヤーはほとんどいなかったし、まだ少ない状況だということがよく分かった。
  </p>
  
  <p>
    そういう意味では ShakeSoul で <a href="http://cloud.manabing.jp/service/pack.html" target="_blank">Amazon EC2 フルサポートパック</a> を展開していることは市場の中で結構なイニシアティブを持っていると思っている。
  </p>
  
  <p>
    来年の INTEROP はどうなっていくのだろう？US の INTEROP は成り立っているのかどうか？
  </p>
  
  <p>
    ネットワークレイヤしか、知らない/やってこなかったエンジニアはどうなっていくのだろう？
  </p>
  
  <p>
    この大きな流れはもう戻ることはないと思いつつ、何とも言えないむなしさを抱えて予定よりも早く見終わってしまった幕張を後にした。
  </p>
</div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-06-11T00:00:00+09:00" pubdate data-updated="true">Jun 11<span>th</span>, 2009</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/business/'>Business</a>

</div>


	
		<span class="comments"><a href="/2009/06/10/interop-tokyo-2009//blog/page/27/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2009/05/27/9-5/">
		
			仮想化友の会 第9回 5月勉強会に参加してきました</a>
	</h2>
	<div class="entry-content">
		<div class="section">
  <p>
    <a href="http://list.ospn.jp/mailman/listinfo/v-tomo" target="_blank">メーリングリストの仮想化友の会</a>は入っていたのですが、勉強会には行ったことがなかったのとネタが KVM らしいので聞いてみたい＆どんなもんか見てみたいということで、初参加してみた。
  </p>
  
  <p>
    2008年のOSCの仮想化系のセッションを聞いた時に会場にいらっしゃった方々が多くみられていた。内容は Red Hat の方々による KVM の技術概要と Red Hat としての取り組み予定紹介。
  </p>
  
  <p>
    資料は仮想化友の会webより入手できます&#160;: <a href="http://sites.google.com/site/kasotomo/study" target="_blank"><a href="http://sites.google.com/site/kasotomo/study" target="_blank">http://sites.google.com/site/kasotomo/study</a></a>
  </p>
  
  <p>
    参加者は Unix/Linux をいじってきましたと言う世代の方々と思われるので、web 開発系なコミュニティに比べれば平均年齢は+5したくらいか。2002年くらいにいた IRI のエンジニアたちが FreeBSD をいじり倒していた時代に軽くフラッシュバックする。
  </p>
  
  <p>
    思ったのは、仮想化といっても完全ソフトウエアの話にはならず、必ずハードウエアとの絡みも出てくるので、ハードも含めて検証なりを進める敷居は高く、お手軽さはないので自然とちゃんとできるプレイヤーも少なくなる分野なのかと思う。
  </p>
  
  <p>
    特に KVM は CPU でフォローする仕組みなので、ハードウエア依存が強い。ハートウエアに依存しないサーバ環境を作るための仮想化なのだけど、やはり大事なところでハードウエアがしっかり絡んできてしまうのはなんともしょうがないことなのだろうか。
  </p>
  
  <p>
    何にせよ、仮想化は1つの手法であって目的ではないのだけどツールの一つとして利用する場合、仮想化するメリットやパフォーマンスを分かっておくことは大事なことなのだろう。
  </p>
  
  <p>
    ということで、そろそろ仮想化環境についてもう少し詳細な技術情報なりノウハウなりを貯めたいと軽く思った次第。
  </p>
  
  <p>
    以下、当日メモ
  </p>
  
  <p>
    <a name="seemore"></a>
  </p>
  
  <p>
    20090528
  </p>
  
  <p>
    仮想化友の会 5月勉強会
  </p>
  
  <p>
    19:00-20:40
  </p>
  
  <h4>
    KVM 技術解説
  </h4>
  
  <p>
    Red Hat 森若
  </p>
  
  <ul>
    <li>
      QEMU&#160;: Windows/Mac/Linux 対応 便利だった</p> <ul>
        <li>
          dynamic なので遅い
        </li>
        <li>
          色々使えた ia64 使えた
        </li>
      </ul>
    </li>
    
    <li>
      KVM&#160;: QEMU を工夫して早くしてみた <ul>
        <li>
          ゲスト OS が I/O したい場合は仮想 I/O に対して、一度 QEMU に渡して
        </li>
        <li>
          KVM-Linux 経由で実際の I/O する
        </li>
      </ul>
    </li>
    
    <li>
      新しいモード Guest mode <ul>
        <li>
          センシティブ命令は実行できない
        </li>
      </ul>
    </li>
    
    <li>
      virtio
    </li>
    <li>
      共有メモリがあるから早くなる
    </li>
    <li>
      シャドウページテーブル <ul>
        <li>
          ゲストの仮想アドレス=>ホストの物理アドレスのテーブル
        </li>
        <li>
          MMU の仮想化の問題を助ける <ul>
            <li>
              ゲストの物理アドレス=>ホストの物理アドレスの変換がない
            </li>
          </ul>
        </li>
        
        <li>
          EPT の CPU だとすごく早かった
        </li>
      </ul>
    </li>
    
    <li>
      viroio について <ul>
        <li>
          virtio_ring のスライドの絵がすべて
        </li>
      </ul>
    </li>
    
    <li>
      virtio_pci <ul>
        <li>
          仮想 PCI バス上に仮想デバイスが並んでいる
        </li>
        <li>
          I/O命令は仮想環境がフックする
        </li>
        <li>
          virtio_ring での virtqueue を作成して共有する処理もここで行う
        </li>
      </ul>
    </li>
    
    <li>
      virtio_balloon <ul>
        <li>
          共有するバッファは virtio_baloon 構造体1つだけ
        </li>
        <li>
          仮想化側がいろいろやってくれるだろう前提とした仕組み
        </li>
      </ul>
    </li>
    
    <li>
      block/virtio_blk <ul>
        <li>
          仮想ブロックデバイスを提供
        </li>
        <li>
          リクエスト用の1つの virtqueue を使う
        </li>
        <li>
          read, write, SCSI cmd を発行できる
        </li>
        <li>
          リクエスト完了 used リングに追加のみ
        </li>
      </ul>
    </li>
    
    <li>
      net/virtio_net <ul>
        <li>
          仮想ネットワークでバイスを提供
        </li>
        <li>
          送信、受信、コマンド送信用の3つの virtqueue を使用
        </li>
        <li>
          送信処理終了後に送信できなかったデータの送信、送信済みのskbの回収
        </li>
        <li>
          block より工夫されている
        </li>
      </ul>
    </li>
    
    <li>
      char/virtio_console <ul>
        <li>
          仮想コンソールでバイスを提供
        </li>
        <li>
          送信用、受信用の2つの virtqueue を利用
        </li>
        <li>
          一度のやり取りは PAGE_SIZE まで
        </li>
      </ul>
    </li>
  </ul>
  
  <h4>
    Red Hat の仮想化戦略
  </h4>
  
  <p>
    Red Hat マーケティング 中井
  </p>
  
  <ul>
    <li>
      Red Hat と MS 仮想化の相互運用制で合意</p> <ul>
        <li>
          合意内容</p> <ul>
            <li>
              Red Hat 仮想化上で Windows 2000/2003/2008 サポート
            </li>
            <li>
              Windows Hyper-V 上で Red Hat Enterprise Linux5.2/5.3 が動きます
            </li>
          </ul>
        </li>
      </ul>
    </li>
    
    <li>
      KVM について <ul>
        <li>
          Qumranet イスラエルの会社を Red Hat が買収
        </li>
        <li>
          SolidCE/SPICE も買収した 管理テクノロジ次世代仮想化
        </li>
      </ul>
    </li>
    
    <li>
      今後 <ul>
        <li>
          KVM は OS に統合、Xen は継続サポート
        </li>
        <li>
          GUI ベースの管理ソフトを出す VMware Virtual Center みたいなもの <ul>
            <li>
              .Net でできている Windows で動くよ
            </li>
            <li>
              ライブマイグレーション機能もあり
            </li>
            <li>
              HA機能、イメージ管理の機能
            </li>
          </ul>
        </li>
        
        <li>
          Desktop の仮想化も提供
        </li>
        <li>
          Hypervisor&#160;: VMware ESX みたいなもの
        </li>
      </ul>
    </li>
    
    <li>
      Qumranet はもともとクライアントデスクトップの仮想化用のソフトだった <ul>
        <li>
          Solid ICE VDI サービス名
        </li>
        <li>
          仮想化のエンジンは Linux, 管理のソフトとデスクトップの表示は Windows
        </li>
        <li>
          デスクトップの表示は IE で ActiveX 利用
        </li>
        <li>
          早いのは独自のプロトコルを持っている SPICE? windows remote desktopより早い
        </li>
      </ul>
    </li>
    
    <li>
      Hypervisor <ul>
        <li>
          KVM&#160;: みる角度によって Linux と Hypervisor
        </li>
        <li>
          ホスト 96コア、1TBメモリ # Linux そのもののスペックが適用される
        </li>
      </ul>
    </li>
    
    <li>
      今後 3ヶ月から18ヶ月にわたって製品提供予定
    </li>
    <li>
      価格まだ秘密 でも VMware よりかは安くなるかも
    </li>
  </ul>
  
  <h4>
    QA
  </h4>
  
  <ul>
    <li>
      KVM は API 公開するの？</p> <ul>
        <li>
          VDSM 最初はクローズド、リブバートに持っていく構想あり
        </li>
        <li>
          今はリブバートに対応していない
        </li>
      </ul>
    </li>
  </ul>
</div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-05-28T00:00:00+09:00" pubdate data-updated="true">May 28<span>th</span>, 2009</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/tech/'>Tech</a>

</div>


	
		<span class="comments"><a href="/2009/05/27/9-5//blog/page/27/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2009/05/24/amazon-ec2-monitoring-auto-scaling-and-elastic/">
		
			Amazon EC2 新機能 Monitoring, Auto Scaling and Elastic Load Balancing を一通り触ってみた</a>
	</h2>
	<div class="entry-content">
		<div class="section">
  <p>
    5/18に Amazon AWS から<a href="http://aws.typepad.com/aws/2009/05/new-aws-load-balancing-automatic-scaling-and-cloud-monitoring-services.html" target="_blank">発表になった</a> Amazon EC2 の新機能は Auto Scaling や Load Blanacing など、今までユーザ側でなんとかしていた or 提供事業者が飯の種にしていた部分に Amazon がカバーしてしまった。と言う点で結構注目が集まっていた。
  </p>
  
  <p>
    細かな点はさておき、ひとまず触ってみないことにはどこまでカバーされているかも分からないので触ってみた。以下、触ってみたときのメモ。
  </p>
  
  <h4>
    事前情報
  </h4>
  
  <p>
    設定の仕方やコマンドはそれぞれのページを参考にした。
  </p>
  
  <ul>
    <li>
      <a href="http://aws.amazon.com/cloudwatch/" target="_blank">Amazon CloudWatch</a>
    </li>
    <li>
      <a href="http://aws.amazon.com/autoscaling/" target="_blank">Auto Scaling</a>
    </li>
    <li>
      <a href="http://aws.amazon.com/elasticloadbalancing/" target="_blank">Elastic Load Balancing</a>
    </li>
  </ul>
  
  <h5>
    3機能概要
  </h5>
  
  <ul>
    <li>
      CloudWatch は instance と Elastic Load Balancer 両方のモニタリングが行える</p> <ul>
        <li>
          それぞれ取得できるパラメータは異なる
        </li>
      </ul>
    </li>
    
    <li>
      Auto Scaling が動作するためには、CloudWatch が instance 上で有効になっていることが条件
    </li>
    <li>
      Elastic Load Balancing は起動している instance を指定して分散対象に加えることができる
    </li>
    <li>
      beta版ということで、すべてコマンドラインでの操作方法しか提供されていない <ul>
        <li>
          Elasticfox 上だと今回の機能に対する情報は見えない
        </li>
      </ul>
    </li>
  </ul>
  
  <h4>
    動作環境
  </h4>
  
  <ul>
    <li>
      すでに EC2 コマンドが実施できる環境があることを前提
    </li>
    <li>
      mac 上でオペレーションしています
    </li>
  </ul>
  
  <h4>
    事前準備
  </h4>
  
  <ul>
    <li>
      Amazon AWS web へログイン
    </li>
    <li>
      Amazon EC2 API Tools をダウンロードして、ローカルにて解凍
    </li>
    <li>
      EC2 コマンドへの PATH が通っている既存ディレクトリと置き換える <ul>
        <li>
          今回の3機能追加にともなうもろもろのコマンドが増えている
        </li>
      </ul>
    </li>
  </ul>
  
  <h4>
    CloudWatch を触る
  </h4>
  
  <h5>
    事前準備
  </h5>
  
  <p>
    README.TXT をみつつ
  </p>
  
  <ul>
    <li>
      Amazon CloudWatch API Tools をダウンロードローカルに配置
    </li>
    <li>
      .bash_profile に PATH を追加
    </li>
    <li>
      credential-file-path.template をコピーして好きな名前に変える <ul>
        <li>
          今回は credential-file とした
        </li>
      </ul>
    </li>
    
    <li>
      このファイルに必要な情報を書く <ul>
        <li>
          key.id と secret key の情報は AWS web の my page よりコピペする
        </li>
      </ul>
    </li>
    
    <li>
      .bash_profile に追記した中身
    </li>
  </ul>
  
  <pre>

export AWS_CLOUDWATCH_HOME=~/Dropbox/AmazonAWS/CloudWatch

export PATH=$PATH:$AWS_CLOUDWATCH_HOME/bin

export AWS_CREDENTIAL_FILE=$AWS_CLOUDWATCH_HOME/credential-file

</pre>
  
  <ul>
    <li>
      以下の記述があらかじめ入っていること
    </li>
  </ul>
  
  <pre>

export EC2_PRIVATE_KEY=$EC2_HOME/pk-****.pem

export EC2_CERT=$EC2_HOME/cert-****.pem

</pre>
  
  <ul>
    <li>
      確認 mon-** コマンドが実行できるようになっていること
    </li>
  </ul>
  
  <h5>
    動かしてみる
  </h5>
  
  <ul>
    <li>
      EC2 の instance を起動する時に CloudWatch のモニターを有効にする</p> <ul>
        <li>
          コマンドラインで -m オプションを付けて起動
        </li>
        <li>
          もしくは instance 起動後に instance-ID を指定して、
        </li>
      </ul>
    </li>
  </ul>
  
  <pre>

$ ec2-monitor-instances i-***

</pre>
  
  <p>
    を実行する
  </p>
  
  <ul>
    <li>
      モニターできるパラメータ 09.05.24 現在
    </li>
  </ul>
  
  <dl>
    <dt>
      EC2 instance 用
    </dt>
    
    <dd>
      CPUUtilization<br />DiskReadBytes<br />DiskReadOps<br />DiskWriteBytes<br />DiskWriteOps<br />NetworkIn<br />NetworkOut
    </dd>
    
    <dt>
      Elastic Load Balancer 用
    </dt>
    
    <dd>
      HealthyHostCount<br />Latency<br />RequestCount<br />UnHealthyHostCount
    </dd>
  </dl>
  
  <ul>
    <li>
      stats を見るコマンド mon-get-stats
    </li>
  </ul>
  
  <p>
    コマンドのヘルプをみると、
  </p>
  
  <pre>

$ mon-get-stats -help



SYNOPSIS

mon-get-stats

MeasureName  --statistics  value[,value...] [--dimensions

"key1=value1,key2=value2..." ] [--end-time  value ] [--namespace  value

]

[--period  value ] [--start-time  value ] [--unit  value ]

[General Options]

</pre>
  
  <p>
    何が必須なのかが分かりづらいのと、key とか value に何を入れるかが説明不足。。。
  </p>
  
  <ul>
    <li>
      instance の CPU utilization をみるコマンド</p> <ul>
        <li>
          &#8212;start-time, &#8212;end-time, &#8212;namespace を設定しないとエラーが出ずに何も出力されなかった
        </li>
        <li>
          日本時間で見たいときは +09:00 を加えれば OK
        </li>
      </ul>
    </li>
  </ul>
  
  <pre>

$ mon-get-stats CPUUtilization --start-time 2009-05-22T15:00:00+09:00 --end-time 2009-05-22T15:30:00+09:00 --period 60 --statistics "Average,Minimum,Maximum" --namespace "AWS/EC2" --dimensions "InstanceId=i-1183c678"

2009-05-22 06:00:00  1.0  0     0.0   4.9E-324  Percent

2009-05-22 06:01:00  1.0  0.38  0.38  0.38      Percent

2009-05-22 06:02:00  1.0  0     0.0   4.9E-324  Percent

</pre>
  
  <ul>
    <li>
      Elastic Load Balancer の RequestCount をみるコマンド
    </li>
  </ul>
  
  <pre>

$ mon-get-stats RequestCount --namespace "AWS/ELB" --statistics "Average,Minimum,Maximum" --start-time 2009-05-25T12:00:00+09:00 --end-time 2009-05-25T13:30:00+09:00

2009-05-25 03:00:00  3.0  1  1.0  1.0  Count

2009-05-25 03:01:00  3.0  1  1.0  1.0  Count

2009-05-25 03:02:00  6.0  1  1.0  1.0  Count

2009-05-25 04:05:00  3.0  1  1.0  1.0  Count

</pre>
  
  <p>
    出力結果の数値はこの場合 Samples, Average, Minimum, Maximum のようだ
  </p>
  
  <h4>
    auto scaling を触る
  </h4>
  
  <h5>
    準備
  </h5>
  
  <ul>
    <li>
      CloudWatch の時と同じ
    </li>
    <li>
      auto scaling API tools をダウンロードして、.bash_profile で PATH 指定
    </li>
  </ul>
  
  <h5>
    動かしてみる
  </h5>
  
  <ul>
    <li>
      コマンドは as-** という形式
    </li>
  </ul>
  
  <ul>
    <li>
      1) as-create-launch-config&#160;: スケールアウトする時(増やす際)にどの AMI を増やして行くのかあらかじめ指定する
    </li>
    <li>
      2) as-create-auto-scaling-group&#160;: 先に設定した launch-config を group に設定する <ul>
        <li>
          &#8212;availablitity-zone と &#8212;min-size/&#8212;max-size は必須
        </li>
        <li>
          min-size は最小構成 instance 数、max-size は最大構成 instance 数
        </li>
        <li>
          1test という launch-config を使って、最小0/最大2 instance の test-group1 を作成する場合
        </li>
      </ul>
    </li>
  </ul>
  
  <pre>

$ as-create-auto-scaling-group test-group1 --launch-configuration 1test --availability-zones us-east-1a --min-size 0 --max-size 2

</pre>
  
  <ul>
    <li>
      3) as-create-or-update-trigger&#160;: auto-scaling-group に対する閾値設定</p> <ul>
        <li>
          test-group1 という auto-scaling group を使って、CPU利用率の平均で 20%以下 になった際にインスタンスを減らす、80% 以上になった時にインスタンスを増やす、120秒状態が継続した場合に発動する test-trigger2 という閾値を設定する場合
        </li>
      </ul>
    </li>
  </ul>
  
  <pre>

$ as-create-or-update-trigger test-trigger2 --auto-scaling-group test-group1 --namespace "AWS/EC2" --measure CPUUtilization --statistic Average --dimensions "AutoScalingGroupName=test-group01" --period 60 --lower-threshold 20 --lower-breach-increment=-1 --upper-breach-increment 1 --upper-threshold 80 --breach-duration 120

</pre>
  
  <ul>
    <li>
      応用編&#160;: auto-scaling group で min-size 1 にした場合</p> <ul>
        <li>
          group 内のすべての instance を terminated したら、自動的に 1 instance が起動する
        </li>
        <li>
          この時は launch-config で指定した AMI が起動する
        </li>
        <li>
          すべて落ちても自動的に立ち上げてくれるので、web のフロントや front proxy 的な動きをするものになどに使えそう
        </li>
        <li>
          手動ですべて落としたいときは
        </li>
      </ul>
    </li>
  </ul>
  
  <pre>

$ as-terminate-instance-in-auto-scaling-group i-**** --decrement-desired-capacity

</pre>
  
  <p>
    を実行すると指定したサイズに関係なく落ちてくれるので、自動起動はなくなる
  </p>
  
  <h4>
    load blancer を触る
  </h4>
  
  <h5>
    準備
  </h5>
  
  <ul>
    <li>
      CloudWatch の時と同じ
    </li>
    <li>
      Elastic Load Balancing API Tools をダウンロードして、.bash_profile で PATH 指定
    </li>
  </ul>
  
  <h5>
    動かしてみる
  </h5>
  
  <ul>
    <li>
      コマンドは elb-** という形式
    </li>
    <li>
      1) elb-create-lb&#160;: Load Balancer を作るコマンド <ul>
        <li>
          elb-create-lb -help をみる
        </li>
      </ul>
    </li>
  </ul>
  
  <pre>

SYNOPSIS

elb-create-lb

LoadBalancerName  --availability-zones  value[,value...]  --listener

"protocol=value, lb-port=value, instance-port=value" [ --listener

"protocol=value, lb-port=value, instance-port=value" ...]

[General Options]

</pre>
  
  <ul>
    <ul>
      <li>
        Load Balancer がサービスするポート番号と転送先ポート番号を設定する
      </li>
      <li>
        test-lb4 という名で、http 80 番でサービスして、http 80 番へ転送する Load Balancer を作成
      </li>
    </ul>
  </ul>
  
  <pre>

$ elb-create-lb test-lb4 --availability-zones us-east-1a --listener "lb-port=80,instance-port=80,protocol=http"

DNS-NAME  test-lb4-1200388198.us-east-1.elb.amazonaws.com

</pre>
  
  <ul>
    <ul>
      <li>
        出力結果に Load Balancer に割り当てる FQDN が発行される
      </li>
      <li>
        実際オリジナルドメインに結びつける時には、オリジナルドメインの DNS サーバ上で CNAME する必要があるだろう
      </li>
      <li>
        確かめてみると
      </li>
    </ul>
  </ul>
  
  <pre>

$ host test-lb4-1200388198.us-east-1.elb.amazonaws.com

test-lb4-1200388198.us-east-1.elb.amazonaws.com has address 174.129.197.180

</pre>
  
  <p>
    確かにグローバルアドレスが振られている
  </p>
  
  <ul>
    <li>
      2) elb-register-instances-with-lb&#160;: 作った ELB に instance を登録する</p> <ul>
        <li>
          すでにinstance name が分かっている(起動している)こと
        </li>
        <li>
          先ほど設定した test-lb4 という Load Balancer に3つの instance を登録する
        </li>
      </ul>
    </li>
  </ul>
  
  <pre>

$ elb-register-instances-with-lb test-lb4 --instances i-fb155392,i-ff155396,i-f315539a

INSTANCE-ID  i-fb155392

INSTANCE-ID  i-ff155396

INSTANCE-ID  i-f315539a

</pre>
  
  <ul>
    <li>
      3) Load Balancer は分散対象となる instance の health check を行っているので、確認</p> <ul>
        <li>
          Load Balancer 名 test-lb4 での health check 結果
        </li>
      </ul>
    </li>
  </ul>
  
  <pre>

$ elb-describe-instance-health test-lb4

INSTANCE-ID  i-fb155392  InService

INSTANCE-ID  i-ff155396  InService

INSTANCE-ID  i-f315539a  InService

</pre>
  
  <ul>
    <ul>
      <li>
        instance が生きていれば InService、死んでいれば OutService となる
      </li>
      <li>
        instance を登録した時点で、デフォルトで何がしかのチェックが行われている。設定内容は不明
      </li>
    </ul>
    
    <li>
      4) さらにオリジナルの health check設定を入れてみる <ul>
        <li>
          Load Balancer test-lb4 にて登録した instance に対して TCP 80 番ポートのチェック、interval 5sec(これが最小値)、timeout 3sec、死活の閾値 2回続いた時
        </li>
      </ul>
    </li>
  </ul>
  
  <pre>

$ elb-configure-healthcheck test-lb4 --target "TCP:80" --interval 5 --timeout 3 --unhealthy-threshold 2 --healthy-threshold 2

HEALTH-CHECK  TCP:80  5  3  2  2



$ elb-describe-instance-health test-lb4

INSTANCE-ID  i-fb155392  InService

INSTANCE-ID  i-ff155396  InService

INSTANCE-ID  i-f315539a  InService

</pre>
  
  <p>
    これにて確認終了。
  </p>
  
  <ul>
    <ul>
      <li>
        分散方式は不明 ソースIP縛りなのか、完全なラウンドロビンなのか
      </li>
      <li>
        設定内容的に L4 スイッチとしての振る舞いまで、L7レベルは設定できない
      </li>
    </ul>
  </ul>
  
  <h5>
    ちょっとはまったこと
  </h5>
  
  <ul>
    <li>
      Load Balancer から instance への health check する際には、instance に適用している sercurity group(firewall) にて source CIDR に <del datetime="2010-03-08T16:16:00+09:00">0.0.0.0/0(any)</del> ヘルスチェックしてくる source IP address が設定されていること
    </li>
    <li>
      health check packet がはじかれてしまい、OutService 扱いになってしまうため
    </li>
    <li>
      Load Balancer と instance に割り当てられていたグローバルアドレスより 174.129.197.0/24 を設定しても NG だったことから、異なる interface から通信していて、Amaozn EC2 内であってもすべて Security Group が適用されていると思われる
    </li>
    <li>
      => 任意のローカルアドレスからチェックされていることが分かった。tcpdump などしてアドレスを特定して security group に追加すれば広く設定する必要はない(<a href="http://d.hatena.ne.jp/d_sea/20100305/p1" target="_blank"> Amazon EC2 Elastic Load Balancing をもう少し詳しく見てみた &#8211; つれづれなる・・・</a><a href="http://b.hatena.ne.jp/entry/http://d.hatena.ne.jp/d_sea/20100305/p1" class="http-bookmark" target="_blank"><img src="http://b.hatena.ne.jp/entry/image/http://d.hatena.ne.jp/d_sea/20100305/p1" alt="" class="http-bookmark" /></a> より)
    </li>
  </ul>
  
  <h5>
    気になったこと
  </h5>
  
  <ul>
    <li>
      直接 instance に割り当てられた FQDN にブラウザからアクセスしてもみれる
    </li>
    <li>
      Load Balancer に割り当てられた FQDN にブラウザからアクセスしてもみれる
    </li>
    <li>
      instance のデフォルトゲートウエイが変わっていないことから、Load Balancer の動作は route 方式でなくて、おそらく NAT 方式なのだろう
    </li>
  </ul>
  
  <h4>
    全体通して分かったこと
  </h4>
  
  <p>
    (<a href="http://d.hatena.ne.jp/d_sea/20100306/p1" target="_blank"> Amazon EC2 Auto Scaling をもう少し詳しく見てみた &#8211; つれづれなる・・・</a><a href="http://b.hatena.ne.jp/entry/http://d.hatena.ne.jp/d_sea/20100306/p1" class="http-bookmark" target="_blank"><img src="http://b.hatena.ne.jp/entry/image/http://d.hatena.ne.jp/d_sea/20100306/p1" alt="" class="http-bookmark" /></a>より、正しくない部分を修正)
  </p>
  
  <h5>
    auto scaling と Load Balancer の連携は <del datetime="2010-03-08T22:22:38+09:00">今のところできてないようだ</del> 可能
  </h5>
  
  <ul>
    <li>
      自動的に auto scaling から Load Balancer へ instance-ID 情報を渡すコマンドなりは<del datetime="2010-03-08T22:22:38+09:00">見つけられなかった</del> &#8212;load-balancers オプションを用いる
    </li>
    <li>
      <del datetime="2010-03-08T22:22:38+09:00">Load Balancer の分散対象を設定するときはあらかじめ起動してある instance-ID を指定するので、auto scaling が立ち上げた instance-ID は手動で設定する必要がある</del>
    </li>
    <li>
      <del datetime="2010-03-08T22:22:38+09:00">Load Balancer 配下への追加は手動になるので、Load Balancer を使うケースは auto scale のメリットが発揮できない</del>
    </li>
    <li>
      <del datetime="2010-03-08T22:22:38+09:00">これができると web のフロントエンドの負荷分散を自動的にできて、auto scaling のメリットがでるが今回の機能追加ではカバーできていない</del>
    </li>
    <li>
      今回の機能追加 auto scaling は instance が落ちてしまった際、自動的に起動できる対障害性のアップにはなりそう
    </li>
  </ul>
  
  <h5>
    Amazon EC2 が制御できる範囲はあくまでネットワーク～電源 ON/OFF まで
  </h5>
  
  <ul>
    <li>
      Load Balancer は既存の L4 スイッチと変わらない基本動作をする
    </li>
    <li>
      ネットワーク機能的にはこれでもう整ったといっていいのでは
    </li>
    <li>
      AMI ベースで auto scaling するので、立ち上がった際の不整合は起きない環境で AMI 保存しておく必要がある
    </li>
    <li>
      auto scaling はあくまで instance の起動/終了になるので、OS 内でのオペレーションは関与できない
    </li>
    <li>
      バックエンドや DB のスケーリングをする際には OS 内のでのオペレーションが必要なので、ここは Amazon ではないサービス提供会社が行える部分と思われる
    </li>
  </ul>
</div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-05-25T00:00:00+09:00" pubdate data-updated="true">May 25<span>th</span>, 2009</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/tech/'>Tech</a>

</div>


	
		<span class="comments"><a href="/2009/05/24/amazon-ec2-monitoring-auto-scaling-and-elastic//blog/page/27/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2009/05/20/bp-study-21/">
		
			BP Study#21 に参加してきました</a>
	</h2>
	<div class="entry-content">
		<div class="section">
  <p>
    技術的にコアで刺激になるような勉強会はないかなと思っていていたら、BP Study をすすめられた。前から BP Study の存在は知っていて気にはなっていたけど、機会がなくて行ったことがなかった。
  </p>
  
  <p>
    今回時間もあったこともあって初参加。
  </p>
  
  <p>
    内容は OpenID Authentication 2.0 protocol の解説と XMPP and AMQP の紹介
  </p>
  
  <p>
    資料の紹介は BP Study の web にリンクされています&#160;: <a href="http://beproud.jp/bpstudy/?p=31" target="_blank"><a href="http://beproud.jp/bpstudy/?p=31" target="_blank">http://beproud.jp/bpstudy/?p=31</a></a>
  </p>
  
  <p>
    どちらも技術的にはニッチかつコアな内容で専門ではないので概略くらいしか理解できなかったが、それだけコアなものに触れられてよかった。細かくはなんだか分からないけど技術的に先端的だったりニッチだけどすごいことが世の中にはあるんだなぁ思うこと、それを感じるのが結構大事なのかと思う。
  </p>
  
  <p>
    個人的には後半の AMQP みたいな大量な処理をひたすら効率的にさばくための仕組みは結構興味深かった。Google 内部でもこんなようなひたすら高速に処理するためのシステムが作られて web で紹介されているのはごく一部なんだろう。
  </p>
  
  <p>
    全体的な雰囲気としては懐かしの IRI でやっていたエンジニア勉強会に近い感じを受けた。そこそこで技術的コアな情報を知っているエンジニアが集まることでエンジニア集団全体としての幅と厚さが出る。この技術の幅と厚さが価値になる。そう考えると BP Study は結構な幅と厚さのある勉強会になっているので価値は高いな。
  </p>
  
  <p>
    # この技術に対する価値の見いだし方がちゃんと理解できている人はなかなか少ない。シリコンバレーではベースとなる考え方になっている
  </p>
  
  <p>
    懇親会でも色々な方と面識を作れたのもよかった。ShakeSoul として何か一緒にやれることを見いだせればラッキーだろう。
  </p>
  
  <p>
    継続的に参加したい勉強会になりそうだ。
  </p>
  
  <p>
    以下、当日とったメモ
  </p>
  
  <p>
    <a name="seemore"></a>
  </p>
  
  <p>
    090521 BPstudy #21
  </p>
  
  <p>
    19:00-21:30
  </p>
  
  <h4>
    Introduction OpenID Authenticasion 2.0 Revival
  </h4>
  
  <ul>
    <li>
      OpenID tech night やった もうちょっと分かりやすくした初心者向け
    </li>
    <li>
      OpenID Authentication 2.0 protocol がある
    </li>
    <li>
      ケーススタディ smart.fm <ul>
        <li>
          smart.fm のアカウントあり
        </li>
        <li>
          openIDとの関連付け済み
        </li>
        <li>
          OpenID アカウント入れると myopenid.com のサイトにユーザ側でのリダイレクトされた <ul>
            <li>
              これは smart.fm のサーバがクライアントにリクエストしている
            </li>
          </ul>
        </li>
      </ul>
    </li>
    
    <li>
      用語 <ul>
        <li>
          Claimed Identifier クライアント側の所属情報
        </li>
        <li>
          Relying party 使おうとしているサービス smart.fm
        </li>
        <li>
          User-Suppolied Identifier <ul>
            <li>
              Claimed Identifier と OP Identifier をひとくくりにしたもの
            </li>
          </ul>
        </li>
      </ul>
    </li>
    
    <li>
      コマンド myopenid にアクセスする時 Yadis Discovery <ul>
        <li>
          lwp-request -S -e- d <a href="http://zigorou.myopenid.com/" target="_blank"><a href="http://zigorou.myopenid.com/" target="_blank">http://zigorou.myopenid.com/</a></a> | grep -i xrds
        </li>
        <li>
          X-XRDS-Location: http;//zigorou.myopenid.com/?xrds=1
        </li>
        <li>
          http;//zigorou.myopenid.com/?xrds=1
        </li>
        <li>
          # 色々出てくる
        </li>
        <li>
          XRDS 文章を見つけるやりとり
        </li>
      </ul>
    </li>
  </ul>
  
  <h5>
    自分メモ
  </h5>
  
  <ul>
    <li>
      大まかに言えば</p> <ul>
        <li>
          smart.fm がクライアントにリダイレクト要求
        </li>
        <li>
          クライアントが openid.com にリダイレクト
        </li>
        <li>
          認証をする
        </li>
        <li>
          openid.com よりクライアントへリダイレクト要求
        </li>
        <li>
          クライアントが最初の smart.fm にリダイレクトする
        </li>
      </ul>
    </li>
    
    <li>
      という感じの流れのようだ
    </li>
  </ul>
  
  <h5>
    QA
  </h5>
  
  <ul>
    <li>
      Q1 A1 OpenID ライブラリが出ているようだ</p> <ul>
        <li>
          セキュリティホールがあるようだ バージョン上げる必要があるとのこと
        </li>
      </ul>
    </li>
    
    <li>
      Q2 return-to-url が書き換えられる場合は <ul>
        <li>
          どの OP も安全という訳ではない verification でチェックされて促すくらいのやり方
        </li>
      </ul>
    </li>
    
    <li>
      Q3 いろいろな OP があって開発めんどい <ul>
        <li>
          めんどいので Google は画一的な画面を出して共通化する動きもある
        </li>
      </ul>
    </li>
  </ul>
  
  <h4>
    XMPP and AMQP
  </h4>
  
  <ul>
    <li>
      両方を知っている人少ないのでは、、、
    </li>
    <li>
      XMPP <ul>
        <li>
          XML 実装
        </li>
        <li>
          Google Talk のプロトコル
        </li>
        <li>
          非同期な通信
        </li>
      </ul>
    </li>
    
    <li>
      AMQP
    </li>
    <li>
      Erlang <ul>
        <li>
          並列処理指向言語、分散処理指向言語、Open Telecom Platform(OTP)
        </li>
        <li>
          facebook Online chat, AWS SimpleDB, Apache CouchDB, 分散ハッシュDB Kai / scalaris で使っている
        </li>
        <li>
          はてなダイヤリ higepon/20090509/1241863278
        </li>
        <li>
          井上 武 たけまるさんの資料公開されている プログラミング言語 Erlang の動向
        </li>
      </ul>
    </li>
  </ul>
  
  <h5>
    XMPP
  </h5>
  
  <ul>
    <li>
      RFC にもなっている
    </li>
    <li>
      XMLベースのプロトコル
    </li>
    <li>
      動きはメールサーバと一緒
    </li>
    <li>
      TCPコネクション張りっぱなし
    </li>
    <li>
      XMPP Server 接続、友人、状態を管理 <ul>
        <li>
          クライアント間は直接メッセージ通信する
        </li>
      </ul>
    </li>
    
    <li>
      基本的には NAT を通らない <ul>
        <li>
          Google は UDP Hole panching をするライブラリを適用している
        </li>
        <li>
          プッシュ型のメッセージ交換 張りっぱなし
        </li>
      </ul>
    </li>
  </ul>
  
  <h5>
    XMPP サーバの動き
  </h5>
  
  <ul>
    <li>
      ログイン、IDとIP情報を伝える
    </li>
    <li>
      相互認証になる ブロックしたい相手には情報を送らない
    </li>
  </ul>
  
  <h5>
    セキュリティ
  </h5>
  
  <ul>
    <li>
      SSL/TLSm DNSの逆引きチェック、SASL。。(シンプルな認証のようだ）
    </li>
    <li>
      複数チャットも可能
    </li>
  </ul>
  
  <h5>
    ejabberd
  </h5>
  
  <ul>
    <li>
      Erlang による XMPP 実装
    </li>
    <li>
      Group Chat も実装済み、部屋が作れる
    </li>
    <li>
      大量のコネクションが来ても大丈夫
    </li>
  </ul>
  
  <h5>
    Ejabberd Cloud Editon
  </h5>
  
  <ul>
    <li>
      AWS の SDB と S3 においてしまう
    </li>
    <li>
      スケールすることを
    </li>
  </ul>
  
  <h5>
    AWS import/Export
  </h5>
  
  <ul>
    <li>
      HDD を Amazon へ送る
    </li>
    <li>
      S3 にインポート
    </li>
    <li>
      1TB HDD 1TB転送して 1万円くらい
    </li>
    <li>
      バックアップ HDD を送ってもらう
    </li>
  </ul>
  
  <h5>
    AMQP
  </h5>
  
  <ul>
    <li>
      Advanced Message Queue Protocol
    </li>
    <li>
      今年中に 1.0 が公開されるはず
    </li>
    <li>
      メッセージ指向ミドルウエア
    </li>
    <li>
      アプリケーション間の通信プロトコル
    </li>
    <li>
      5億くらいのメーッセージをさばく
    </li>
    <li>
      非同期なのにトランザクション
    </li>
    <li>
      TCP であることを利用
    </li>
    <li>
      マルチキャスト
    </li>
    <li>
      ルーティングキーが一致するところに送る
    </li>
    <li>
      大規模向けすごい負荷がかかるところを抜けるためのソリューション
    </li>
  </ul>
  
  <h5>
    RabbitMQ
  </h5>
  
  <ul>
    <li>
      Erlang による AMQP 実装
    </li>
    <li>
      130万/sec リクエスト可能
    </li>
    <li>
      3億メッセージ/日
    </li>
    <li>
      AMQP 0.8 まで実装済み
    </li>
    <li>
      ニュース配信、ラジオとか 情報がとにかく出すところが使っている
    </li>
  </ul>
  
  <h5>
    Kay
  </h5>
  
  <ul>
    <li>
      Google App Engine Python 専用フレームワーク作ってます
    </li>
  </ul>
  
  <h5>
    AMQP サイトがある
  </h5>
  
  <ul>
    <li>
      送る側とクライアントの作り込で設けているようだ
    </li>
    <li>
      送る部分はオープンソースにしている
    </li>
  </ul>
  
  <h4>
    etc
  </h4>
  
  <ul>
    <li>
      アーラン
    </li>
    <li>
      Tokyo キャビネット
    </li>
  </ul>
  
  <h5>
    etc&#160;: Google libjingle
  </h5>
  
  <ul>
    <li>
      Google Code より
    </li>
    <li>
      techtalk もある コアエンジニアが話しているらしい
    </li>
    <li>
      xmpp.org にも libjingle
    </li>
    <li>
      95%は Google 社外に出てないらしい
    </li>
  </ul>
</div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-05-21T00:00:00+09:00" pubdate data-updated="true">May 21<span>st</span>, 2009</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/tech/'>Tech</a>

</div>


	
		<span class="comments"><a href="/2009/05/20/bp-study-21//blog/page/27/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2009/05/01/amazon-ec2-s3-2/">
		
			Amazon EC2/S3をいじってみた</a>
	</h2>
	<div class="entry-content">
		<div class="section">
  <p>
    Amazon EC2/S3 を触ってみた。調べつつ行うのは時間がもったいなかったので本に頼ってしまった。
  </p>
  
  <p>
    学びingさんの以下の本を読みつつ進めれば、問題なく行えた。
  </p>
  
  <div class="hatena-asin-detail">
    <p>
      <a href="http://www.amazon.co.jp/dp/4798021555/?tag=hatena_st1-22&ascsubtag=d-4tfv" target="_blank"><img src="http://ecx.images-amazon.com/images/I/41QHzR8v3aL._SL160_.jpg?w=830" class="hatena-asin-detail-image" alt="Amazon EC2/S3クラウド入門" title="Amazon EC2/S3クラウド入門" data-recalc-dims="1" /></a>
    </p>
    
    <div class="hatena-asin-detail-info">
      <p class="hatena-asin-detail-title">
        <a href="http://www.amazon.co.jp/dp/4798021555/?tag=hatena_st1-22&ascsubtag=d-4tfv" target="_blank">Amazon EC2/S3クラウド入門</a>
      </p>
      
      <ul>
        <li>
          <span class="hatena-asin-detail-label">作者:</span> <a href="http://d.hatena.ne.jp/keyword/%B3%D8%A4%D3ing" class="keyword" target="_blank">学びing</a>
        </li>
        <li>
          <span class="hatena-asin-detail-label">出版社/メーカー:</span> <a href="http://d.hatena.ne.jp/keyword/%BD%A8%CF%C2%A5%B7%A5%B9%A5%C6%A5%E0" class="keyword" target="_blank">秀和システム</a>
        </li>
        <li>
          <span class="hatena-asin-detail-label">発売日:</span> 2008/12
        </li>
        <li>
          <span class="hatena-asin-detail-label">メディア:</span> 単行本
        </li>
        <li>
          <span class="hatena-asin-detail-label">購入</span>: 4人 <span class="hatena-asin-detail-label">クリック</span>: 79回
        </li>
        <li>
          <a href="http://d.hatena.ne.jp/asin/4798021555" target="_blank">この商品を含むブログ (22件) を見る</a>
        </li>
      </ul>
    </div>
    
    <div class="hatena-asin-detail-foot">
    </div>
  </div>
  
  <p>
    本には記述されていなかったことや自分で気づいた点もあったのでまとめておく。
  </p>
  
  <h4>
    準備
  </h4>
  
  <ul>
    <li>
      ログインは Amazon.com のショッピング IDと同じでログインできた</p> <ul>
        <li>
          クレジット情報も事前に登録済みならそれで決済される
        </li>
      </ul>
    </li>
    
    <li>
      ブラウザ上で privatekey と x509証明書 を生成＆ダウンロード可能 <ul>
        <li>
          コマンドラインでオペレーションする EC2 API tools を使う際にこの2つのファイルを指定する
        </li>
      </ul>
    </li>
    
    <li>
      firefox アドオンの xpiファイルがダウンロードされるだけで firefox にインストールできない <ul>
        <li>
          firefox メニューから ファイル＞ファイルを開く＞xpiファイルを指定＞インストール開始でできた</p> <ul>
            <li>
              windows/mac 両方で同じ現象だった
            </li>
          </ul>
        </li>
      </ul>
    </li>
    
    <li>
      web の Your account 情報から <ul>
        <li>
          Your Access Key ID と Your Secret Access Key を確認
        </li>
        <li>
          firefox addon elasticfox のアカウント情報に設定する
        </li>
      </ul>
    </li>
  </ul>
  
  <h4>
    E2を触る images 選択から instance 起動まで
  </h4>
  
  <h5>
    firefox addon operation (GUIな操作)
  </h5>
  
  <ul>
    <li>
      images 一覧より選択</p> <ul>
        <li>
          最初なかなか表示されなかった
        </li>
      </ul>
    </li>
    
    <li>
      Fedora を選択してみて起動 起動ボタンを押してから2分くらいで running status になる
    </li>
  </ul>
  
  <h5>
    api tools operation (コマンドラインな操作)
  </h5>
  
  <ul>
    <li>
      なかなか ssh login できなかった</p> <ul>
        <li>
          よく分からんけど root でログインしたらノーパスワードで入れた
        </li>
        <li>
          一部の AMI はパスワードを聞かれて入れなかった <ul>
            <li>
              そうか知っている人だけ入れるにしてしまうことがこれでできるのか
            </li>
          </ul>
        </li>
      </ul>
    </li>
    
    <li>
      OKだったやり方
    </li>
  </ul>
  
  <p>
    $ ssh -i [keyname] root@ec2-67-202-43-106.compute-1.amazonaws.com
  </p>
  
  <ul>
    <li>
      root@ を付けないと
    </li>
  </ul>
  
  <p>
    Permission denied (publickey,gssapi-with-mic).
  </p>
  
  <p>
    と言われてログインできない
  </p>
  
  <ul>
    <li>
      基本的に作ったばかりの instance は root でログインしてからということだった
    </li>
  </ul>
  
  <h4>
    S3を触る
  </h4>
  
  <ul>
    <li>
      ユーザごとに割り当てたファイルサーバのイメージ</p> <ul>
        <li>
          自分のローカルPC上のファイルをコピーできる
        </li>
        <li>
          ここに AMI の元となる bundle された image ファイルを保存できる
        </li>
      </ul>
    </li>
    
    <li>
      firefox addon S3fox を入れる
    </li>
    <li>
      起動後ログイン情報を入力 manage account <ul>
        <li>
          elasticfox のときと同じ情報
        </li>
        <li>
          Your Access Key ID と Your Secret Access Key を適用
        </li>
      </ul>
    </li>
    
    <li>
      ログイン完了 <ul>
        <li>
          ローカルのファルだ構成とS3側の構成が左右に配置されている
        </li>
        <li>
          見た目は WinSCP みたいなイメージ
        </li>
      </ul>
    </li>
  </ul>
  
  <h5>
    ディレクトリを作ってみる
  </h5>
  
  <ul>
    <li>
      create directory して作る
    </li>
    <li>
      Edit ACL でそのフォルダのパーミッションが変更できる <ul>
        <li>
          設定できる user は</p> <ul>
            <li>
              Everyone, Authenticated Users, [自分のAmazon.comアカウント]
            </li>
            <li>
              Linuxのアクセス権とは若干違い独自のパーミッション管理ができるようだ
            </li>
            <li>
              Shareしたいユーザを追加できる Email or UserID で指定できる
            </li>
          </ul>
        </li>
        
        <li>
          権限は Read/Write/FullControl
        </li>
      </ul>
    </li>
  </ul>
  
  <h5>
    立ち上げたinstanceのAMI をS3までもってくる on Fedora
  </h5>
  
  <ul>
    <li>
      まず 立ち上げた instance に privatekey, certificationkey を /mnt まで持ってくる
    </li>
    <li>
      立ち上げた instance 上で ec2-bundle-vol コマンドを実行 <ul>
        <li>
          あらかじめ各instance(Linux)には既にec2コマンドが実行できるようになっているということか
        </li>
        <li>
          image* ファイルがたくさんできる
        </li>
      </ul>
    </li>
    
    <li>
      終わったらS3にコピーするコマンドを実施 instance 上で実行 <ul>
        <li>
          S3 上で image* がいっぱいできている
        </li>
      </ul>
    </li>
    
    <li>
      ami に登録する 手元のPCから ec2-register コマンドを実行 <ul>
        <li>
          これでいつでも 自分用 AMI が起動できるようになる
        </li>
        <li>
          private な登録なので他のひとには見られない
        </li>
      </ul>
    </li>
  </ul>
  
  <h5>
    まとめ
  </h5>
  
  <ul>
    <li>
      EC2 => EC2 /mnt => S3 => AMI 登録 の流れ
    </li>
    <li>
      AMI登録するにはS3に持ってこないとできない
    </li>
    <li>
      AMI登録されると private なので自分の ID(keypair) でないと見れない <ul>
        <li>
          public にするためにはどうすれば良いんだろう [Q]
        </li>
      </ul>
    </li>
  </ul>
  
  <h4>
    その他
  </h4>
  
  <ul>
    <li>
      Security Group(簡易firewall) は destinasion ごとに設定できない</p> <ul>
        <li>
          アドレスが変わってしまうから
        </li>
      </ul>
    </li>
    
    <li>
      そのかわり instance を group 化して group ごとに filter できる
    </li>
    <li>
      作業手順は security groups を作っておいて instance を起動して group 属性を変更する順番になる
    </li>
  </ul>
  
  <h4>
    windows instance の立ち上げ方
  </h4>
  
  <ul>
    <li>
      keypair を指定して起動
    </li>
    <li>
      status が running になってしばらくしたら <ul>
        <li>
          ec2-get-password i-**** -k ec2_instance_key.id と入力</p> <ul>
            <li>
              elasticfox 上でも右クリックで行える
            </li>
          </ul>
        </li>
      </ul>
    </li>
    
    <li>
      password が表示される
    </li>
    <li>
      Administrator login 時に使用する
    </li>
  </ul>
  
  <h5>
    windows instance の AMI 登録方法
  </h5>
  
  <ul>
    <li>
      elasticfox 上でオペレーションが完結する方法</p> <ul>
        <li>
          windows OS 上での方法は分からず Linux とは違ってできないのかもしれない
        </li>
      </ul>
    </li>
    
    <li>
      elasticfox で instance を右クリックして &#8220;bundle windows AMI&#8221;
    </li>
    <li>
      bundle 終了後 右クリックで &#8220;register as an AMI&#8221; を選択で完了
    </li>
  </ul>
  
  <p>
    <p>
      基本的な操作はこんなところ。今後はもう少し他の付加的機能についても触っていってみたい。
    </p></div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-05-02T00:00:00+09:00" pubdate data-updated="true">May 2<span>nd</span>, 2009</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/tech/'>Tech</a>

</div>


	
		<span class="comments"><a href="/2009/05/01/amazon-ec2-s3-2//blog/page/27/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2009/04/30/2-0-web/">
		
			ヒューマン2.0 Web新時代の働き方(かもしれない)</a>
	</h2>
	<div class="entry-content">
		<div class="section">
  <p>
    シリコンバレーカンファレンスに参加して、渡辺千賀さんのセッションがあって初めてお目にかかったのだが、それまでは何となくブログを読んでいただけであったが、もう少し考え方に触れたいと思い本を買ってみた。
  </p>
  
  <div class="hatena-asin-detail">
    <p>
      <a href="http://www.amazon.co.jp/gp/product/4022731222/ref=as_li_tf_il?ie=UTF8&camp=247&creative=1211&creativeASIN=4022731222&linkCode=as2&tag=dsea-22" target="_blank"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=4022731222&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=dsea-22" /></a><img src="http://www.assoc-amazon.jp/e/ir?t=dsea-22&l=as2&o=9&a=4022731222" width="1" height="1" border="0" alt="" style="border:none!important;margin:0!important;" /> <div class="hatena-asin-detail-info">
        <p>
          <a href="http://www.amazon.co.jp/gp/product/4022731222/ref=as_li_tf_tl?ie=UTF8&camp=247&creative=1211&creativeASIN=4022731222&linkCode=as2&tag=dsea-22" target="_blank">ヒューマン2.0―web新時代の働き方(かもしれない) (朝日新書)</a><img src="http://www.assoc-amazon.jp/e/ir?t=dsea-22&l=as2&o=9&a=4022731222" width="1" height="1" border="0" alt="" style="border:none!important;margin:0!important;" /> <ul>
            <li>
              <span class="hatena-asin-detail-label">作者:</span> <a href="http://d.hatena.ne.jp/keyword/%C5%CF%CA%D5%C0%E9%B2%EC" class="keyword" target="_blank">渡辺千賀</a>
            </li>
            <li>
              <span class="hatena-asin-detail-label">出版社/メーカー:</span> <a href="http://d.hatena.ne.jp/keyword/%C4%AB%C6%FC%BF%B7%CA%B9%BC%D2" class="keyword" target="_blank">朝日新聞社</a>
            </li>
            <li>
              <span class="hatena-asin-detail-label">発売日:</span> 2006/12/08
            </li>
            <li>
              <span class="hatena-asin-detail-label">メディア:</span> 新書
            </li>
            <li>
              <span class="hatena-asin-detail-label">購入</span>: 7人 <span class="hatena-asin-detail-label">クリック</span>: 112回
            </li>
            <li>
              <a href="http://d.hatena.ne.jp/asin/4022731222" target="_blank">この商品を含むブログ (218件) を見る</a>
            </li>
          </ul></div> 
          
          <div class="hatena-asin-detail-foot">
          </div></div> 
          
          <p>
            内容はシリコンバレーでの暮らし、仕事やライフスタイルなどなど多角的に紹介している。
          </p>
          
          <p>
            肩肘張らずシリコンバレーの楽観的な雰囲気のなかで暮らしている筆者のキャラクターがよく出ている文章が一貫して展開されているので、スラスラ読める。
          </p>
          
          <p>
            確かに自分が見てきたシリコンバレーの様子はそんな感じで、自分が svc09++ カテゴリで書いてきたことと同じような視点や書き方になっていると思う。こちらの本の方が若干執筆されてから2年以上経過しているが情報量が多い分、シリコンバレーの様子がよく分かるだろう。
          </p>
          
          <p>
            シリコンバレーのベンチャーの定義や様子、失敗が汚点にならないシステムやシリコンバレーでの仕事の仕方や必要な要素などについても解説している。
          </p>
          
          <p>
            シリコンバレーは先端的かつハイレベルな特別な世界なので、ある意味正解がない中でみんなものすごいレベルでものすごい早さで走る。正解がないから正解を求めると言うよりかは、この先よく分からないんだけどとにかくやってみれば大きな成功にあたるかもしれない。と言う考え方で過ごしているし、その考え方がここで生きている人たちのベースになっていると思う。
          </p>
          
          <p>
            そんな <span style="font-weight:bold;">やってみなきゃ分からない人生</span> をエンジョイしつつ、ハイレベルで厳しい場所が確かにあるので、それがキラキラと輝く魅力的な場所に思える方でまだシリコンバレーという地を体感したいことのない方にはお勧めな本です。
          </p></div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-05-01T00:00:00+09:00" pubdate data-updated="true">May 1<span>st</span>, 2009</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/book/'>Book</a>

</div>


	
		<span class="comments"><a href="/2009/04/30/2-0-web//blog/page/27/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2009/04/27/post/">
		
			メガネのレンズ情報</a>
	</h2>
	<div class="entry-content">
		<div class="section">
  <p>
    どうにも右目が強く感じてレンズ交換をした。
  </p>
  
  <ul>
    <li>
      現状
    </li>
  </ul>
  
  <table>
    <tr>
      <td>
        -
      </td>
      
      <th>
        PD
      </th>
      
      <th>
        V
      </th>
      
      <th>
        S
      </th>
      
      <th>
        C
      </th>
      
      <th>
        AX
      </th>
    </tr>
    
    <tr>
      <th>
        右
      </th>
      
      <td>
        70
      </td>
      
      <td>
        0.5
      </td>
      
      <td>
        -4.00
      </td>
      
      <td>
        &#8212;
      </td>
      
      <td>
        &#8212;
      </td>
    </tr>
    
    <tr>
      <th>
        左
      </th>
      
      <td>
        70
      </td>
      
      <td>
        0.5
      </td>
      
      <td>
        -3.75
      </td>
      
      <td>
        -0.75
      </td>
      
      <td>
        180
      </td>
    </tr>
  </table>
  
  <p>
    両目で0.7。家の中でテレビを遠くから見るには厳しいが、見えすぎるのも良くないのでこれくらいで。
  </p>
  
  <ul>
    <li>
      ちなみに一つ前 07.08.27作成
    </li>
  </ul>
  
  <table>
    <tr>
      <td>
        -
      </td>
      
      <th>
        PD
      </th>
      
      <th>
        V
      </th>
      
      <th>
        S
      </th>
      
      <th>
        C
      </th>
      
      <th>
        AX
      </th>
    </tr>
    
    <tr>
      <th>
        右
      </th>
      
      <td>
        70
      </td>
      
      <td>
        &#8212;
      </td>
      
      <td>
        -4.50
      </td>
      
      <td>
        &#8212;
      </td>
      
      <td>
        &#8212;
      </td>
    </tr>
    
    <tr>
      <th>
        左
      </th>
      
      <td>
        70
      </td>
      
      <td>
        &#8212;
      </td>
      
      <td>
        -3.75
      </td>
      
      <td>
        -0.75
      </td>
      
      <td>
        180
      </td>
    </tr>
  </table>
  
  <ul>
    <li>
      さらにその前 07.03.18作成
    </li>
  </ul>
  
  <table>
    <tr>
      <td>
        -
      </td>
      
      <th>
        PD
      </th>
      
      <th>
        V
      </th>
      
      <th>
        S
      </th>
      
      <th>
        C
      </th>
      
      <th>
        AX
      </th>
    </tr>
    
    <tr>
      <th>
        右
      </th>
      
      <td>
        70
      </td>
      
      <td>
        &#8212;
      </td>
      
      <td>
        -5.00
      </td>
      
      <td>
        &#8212;
      </td>
      
      <td>
        &#8212;
      </td>
    </tr>
    
    <tr>
      <th>
        左
      </th>
      
      <td>
        70
      </td>
      
      <td>
        &#8212;
      </td>
      
      <td>
        -3.50
      </td>
      
      <td>
        -0.75
      </td>
      
      <td>
        180
      </td>
    </tr>
  </table>
  
  <p>
    右目がすごく強かったのね。右が良くなったのか左が悪くなったのかはよく分からない。
  </p>
</div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-04-28T00:00:00+09:00" pubdate data-updated="true">Apr 28<span>th</span>, 2009</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/life/'>Life</a>

</div>


	
		<span class="comments"><a href="/2009/04/27/post//blog/page/27/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2009/04/25/post/">
		
			引越してから初の診療</a>
	</h2>
	<div class="entry-content">
		<div class="section">
  <p>
    3月に引っ越したので、矯正歯科に行くには引越し元の近くまで通わねばならない。車で行っても結局1時間弱かかった。
  </p>
  
  <p>
    引越してから1ヶ月ほどしかたっていないが妙に懐かしい感覚になる。自分の家はもうここにはないことが分かっているとそう思うのかもしれない。
  </p>
  
  <p>
    最近はリテーナーを洗浄してもらっている間に、助手の人に研磨剤でブラシのようなもので磨いてもらってからフッ素をコーティングしてもらい、その後先生が見て特に問題ないですね。という感じで30分もあれば終わる。
  </p>
  
  <p>
    特に大きな問題なく、スムーズに進むことは良いが、本当はもう少し歯が動いてしまうのをなんとかできないか相談したいところ。
  </p>
  
  <p>
    今のところリテーナーを食事の時以外はずっと付けているので、動かなくならないように出来ているけれども、この分だとリテーナーをやめるのはかなり先になりそう。
  </p>
  
  <p>
    本日の精算：チェック料 ￥5,000
  </p>
</div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-04-26T00:00:00+09:00" pubdate data-updated="true">Apr 26<span>th</span>, 2009</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/life/'>Life</a>

</div>


	
		<span class="comments"><a href="/2009/04/25/post//blog/page/27/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2009/04/24/post/">
		
			今後の自分に何を生かすか 何をしていくか</a>
	</h2>
	<div class="entry-content">
		<div class="section">
  <p>
    # 本当は4月中のエントリーにしたかったので、back date しています。
  </p>
  
  <p>
    このエントリーを書くのにすごく時間をかけてしまった。書けなかった理由は、シリコンバレーから帰ってきてすぐには自分なりに意志を決めるまでにいたらず、決めるまでの時間が必要だったことが大きい。
  </p>
  
  <p>
    結局、今回シリコンバレーで色々見てきて話してきたことが考え方や視点に大きな影響を与えた訳だけども、これが自分の今後の行動に反映できなくては全く行った意味がなくなってしまうので大事にしたいエントリーでもあり、これを書くことで自分自身へのコミットをすることになるのである程度慎重になってしまったところもある。
  </p>
  
  <p>
    このエントリーを書くために今までの [svc09++] カテゴリのエントリーがある。
  </p>
  
  <p>
    この間色々な人と話す中で言葉にしながら自分自身で明確にして行ったところもあるので、やはり時間は必要だったのだと思う。
  </p>
  
  <p>
    短期的な行動計画と中長期的な自分の戦略をまとめた結果を示す。
  </p>
  
  <h4>
    基本的な流れ
  </h4>
  
  <ol>
    <li>
      株式会社シェイクソウルを初年度自分の満足できる内容と売り上げ数字の実績をつくる
    </li>
    <li>
      シリコンバレーとの人脈を保つと同時に拡大する
    </li>
    <li>
      サービスアイデアを継続的に考え続け、客観的評価をもらう
    </li>
    <li>
      来年2月以降ワールドワイドに勝負できるサービスアイデアをシリコンバレーへ持ち込み、ベンチャーとしてのゲームに乗り exit 目指して大きな成功を目指す
    </li>
  </ol>
  
  <h4>
    短期的な振る舞い
  </h4>
  
  <h5>
    株式会社シェイクソウルで行うこと
  </h5>
  
  <p>
    現状としてはまだ日本で株式会社シェイクソウルを作って3ヶ月しか経過してないので、最低でも初年度が終わる1年間は自分の会社を作ってやってみたかったことを追求して、結果を残すことをメインにする。
  </p>
  
  <ul>
    <li>
      自分の会社を作った目的は自己実現の最終形だと思っている</p> <ul>
        <li>
          自分の考え方にそった内容/スタンス/レベルを求めてパフォーマンスした結果、世の中からどう評価されるか
        </li>
        <li>
          自分の価値を世の中で最大化するための実験
        </li>
        <li>
          形態としてはパフォーマンスを最大化するために時間を無駄に使わないライフカンパニーをこれからも続ける
        </li>
        <li>
          梅田望夫氏の「ウェブ時代をゆく」内の「けもの道」を歩むことに当てはまる
        </li>
      </ul>
    </li>
    
    <li>
      会社規模ではなく小さくてもスキルを持っていること、ウェブの力を借りて実行力/実現力を最大化してアプローチする
    </li>
    <li>
      受託に埋没して単なる歯車に甘んじることはせず、自分だからできるパフォーマンス/レベルを求められるところにリーチする
    </li>
    <li>
      日本の中で提供されていない部分の小さな規模ののサービス企画開発を続ける <ul>
        <li>
          初サービスとして「<a href="http://cloud.manabing.jp/service/pack.html" target="_blank">Amazon EC2フルサポートパック</a>」を<a href="http://www.shakesoul.net/?p=417" target="_blank">リリースした</a>ことは理想的だった
        </li>
      </ul>
    </li>
    
    <li>
      優良で志を同じにするパートナーを多く作りお互いの補完関係でクリエイトして生きて行くのが理想
    </li>
  </ul>
  
  <h5>
    シリコンバレーとの関わり
  </h5>
  
  <p>
    ビジネスとしてシリコンバレーを直接のフィールドにはできないので、緩やかにシリコンバレーの情報や人脈を保持することにする
  </p>
  
  <ul>
    <li>
      今回 SVC09 で作れたシリコンバレーで働く方々と作れた人脈をこれからも保持する</p> <ul>
        <li>
          できれば人脈を拡大する動きにつなげたい
        </li>
      </ul>
    </li>
    
    <li>
      具体的には2009年度中に1～2回はシリコンバレーに行って、直接話す機会を設ける <ul>
        <li>
          この時に win-win の関係が作れていないと成り立たないので、日本で行ってきているサービス企画開発したものの意見交換やこれからに向けたアイデアに対する評価をもらう
        </li>
      </ul>
    </li>
    
    <li>
      やはりシリコンバレーの流動速度は速いので、現状を確認してどういう変化が生まれているかを感じる
    </li>
    <li>
      単純に日本にいると日本だけの視点に陥ってしまうので、ワールドワイドな視点になるために行く
    </li>
  </ul>
  
  <h4>
    中期的な戦略
  </h4>
  
  <p>
    シリコンバレーとの関わりを徐々に深めて行く。サービスアイデアは継続的に考え続け、その視点は日本に埋没することなくワールドワイドで通用するものにする。
  </p>
  
  <ul>
    <li>
      徐々にシリコンバレーに行く頻度を上げる
    </li>
    <li>
      そのための強い理由を作って行く <ul>
        <li>
          現状の仕事の発展として行けることが理想
        </li>
        <li>
          日本～シリコンバレーの橋渡し的なことが少し始められるといい
        </li>
      </ul>
    </li>
    
    <li>
      シリコンバレーの人脈にはこのワールドワイド視点でのサービスの意見交換を求める <ul>
        <li>
          もう少し具体的に絡めることがあるといいが、今後考える
        </li>
      </ul>
    </li>
    
    <li>
      この時、海部美知氏の「パラダイス鎖国」内の「軽やかなグローバル化」のイメージで行けたら
    </li>
    <li>
      シリコンバレーで過ごすための必要なスキルセット(英語、生活するための知識など)はこの時期に十分にしておく
    </li>
  </ul>
  
  <h4>
    長期的/将来的なゴール
  </h4>
  
  <p>
    やはり大きな成功を手に入れるためのゲームに1度は参戦すべきだと思っているので、シリコンバレーでベンチャーを立ち上げることを長期的な目標にして、exit して大きな成功を手にすることをゴールとする。
  </p>
  
  <ul>
    <li>
      ワールドワイドで行けると思ったアイデアに対して、シリコンバレーに持ち込んでベンチャーを立ち上げる
    </li>
    <li>
      進出する時にはそれまでに作ったシリコンバレーでの人脈をフルに行かして、立ち上げ初期のリスクの高い状態をなるべく短期にする <ul>
        <li>
          そのためには進出する事前に体制や頼る人を整えておくことが必要
        </li>
      </ul>
    </li>
    
    <li>
      シリコンバレーに住んでいることが必須
    </li>
    <li>
      シリコンバレー大企業への就職は自分のやりたいことと一致してないので選択肢にしない
    </li>
    <li>
      ダメだったとしても汚点にはならないし、本当に可能性がなくなったら日本に戻っても良いので失敗のリスクはない <ul>
        <li>
          それまでのシリコンバレーで作れた人脈力で痛手にならずにリトライできるチャンスがもらいやすい環境にしておくことも重要
        </li>
        <li>
          その時に日本ではシェイクソウルが何もせずとも継続的な売り上げをあげられる状況になっていれば理想的だが、これにはこだわらずにシリコンバレー進出のタイミングマターで行く
        </li>
      </ul>
    </li>
    
    <li>
      自分の勝手な感覚だと、今から1.5年～2.5年以内には実現したい
    </li>
  </ul>
  
  <p>
    <p>
      シリコンバレーカンファレンスの旅の最も大きな収穫は今後の自分の生き方として目標とするポイントが定められたことかと思う。
    </p>
    
    <p>
      日本で大企業、ベンチャー、スタートアップサービスを経験して、やはりすべて自分の判断で動いてみたいと思ったので独立を選択したが、おそらくある程度の売り上げを得られた時点でこのチャレンジは成功となって、その先のもっと大きな展望が描き切れていなかった。スキルの低い大人数の組織を作ることはやりたくないし、ある程度の人数のプロフェッショナル集団が理想だが今の日本では上場が必ずとも成功にはならないのでこれはやりにくい。そう思っていた時にシリコンバレーのベンチャーがチャレンジできる充実したシステムと実際会社がうごめく姿を見て、ここで勝負してみたいとシンプルに思えた。
    </p>
    
    <p>
      年齢的にも環境的にも留学は選択肢にならず、ベンチャーとしてチャレンジできる時間もあまり残されていない気がしているので、長期的と言いつつも残された時間は最長3年かと思っている。
    </p>
    
    <p>
      どれくらいここで書いたことが実現できるかは全く未知でできる保証はどこにもないが、今まで自分自身でチャレンジをしてきたように今回も自分を信じて模索しながら時に大胆に歩んで行きたい。
    </p>
    
    <p>
      少なくとも日本だけの文化やパイだけで埋没しないことと、シリコンバレーで得たシンプルさと圧倒的なパワーと気持ちのいいお天気はいつも忘れないでおきたいと思っている。
    </p></div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-04-25T00:00:00+09:00" pubdate data-updated="true">Apr 25<span>th</span>, 2009</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/self-management/'>Self Management</a>

</div>


	
		<span class="comments"><a href="/2009/04/24/post//blog/page/27/index.html#disqus_thread">Comments</a></span>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2009/04/21/post/">
		
			アレルギー検査結果</a>
	</h2>
	<div class="entry-content">
		<div class="section">
  <p>
    花粉症が4月後半になっても少し出ていて、今までちゃんと調べたことなかったのでアレルギー検査してその結果が出た。
  </p>
  
  <p>
    結局、スギとヒノキの花粉症が標準的にあるくらいだった。
  </p>
  
  <p>
    もっと色々あると思ったんだけどな。。。
  </p>
  
  <h5>
    結果 クラス(判定)
  </h5>
  
  <table>
    <tr>
      <th>
        アレルゲン
      </th>
      
      <th>
        クラス
      </th>
      
      <th>
        ARU/ml
      </th>
    </tr>
    
    <tr>
      <td>
        スギ
      </td>
      
      <td>
        3
      </td>
      
      <td>
        12.5
      </td>
    </tr>
    
    <tr>
      <td>
        ヒノキ
      </td>
      
      <td>
        2
      </td>
      
      <td>
        1.79
      </td>
    </tr>
    
    <tr>
      <td>
        その他
      </td>
      
      <td>
      </td>
      
      <td>
        0.34L
      </td>
    </tr>
  </table>
</div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-04-22T00:00:00+09:00" pubdate data-updated="true">Apr 22<span>nd</span>, 2009</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/life/'>Life</a>

</div>


	
		<span class="comments"><a href="/2009/04/21/post//blog/page/27/index.html#disqus_thread">Comments</a></span>
	
</div></article>

<nav id="pagenavi">
    
        <a href="/blog/page/26/" class="prev">Prev</a>
    
    
        <a href="/blog/page/28/" class="next">Next</a>
    
    <div class="center"><a href="/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner"><br>
<div class="row">
	<div class="col-sm-2 col-sm-offset-3 text-center">
		<img src="/images/hirofukami.jpg" alt="Hiro Fukami" class="img-circle">
	</div>
	<div class="col-sm-4 text-left text-muted">
		<h3>Hiro Fukami</h3>
		<a href="http://twitter.com/d_sea">@d_sea</a>. Business Starter and Engineer in Tokyo.
		Founder and CEO of <a href="http://www.shakesoul.net">ShakeSoul, inc.</a>. See more about me <a href="/about">here</a>.
	</div>
</div>

<br>

Copyright &copy; 2015

    HiroFukami

<br>
Powered by Octopress.
</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'hirofukamisblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-44359867-3']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>
